!function t(e,n,r){function o(i,u){if(!n[i]){if(!e[i]){var f="function"==typeof require&&require;if(!u&&f)return f(i,!0);if(a)return a(i,!0);throw new Error("Cannot find module '"+i+"'")}var c=n[i]={exports:{}};e[i][0].call(c.exports,function(t){var n=e[i][1][t];return o(n?n:t)},c,c.exports,t,e,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(t,e,n){function r(){requestAnimationFrame(r),u.copy(G,V),z=h("white"),K=H,"function"==typeof update&&update(),L.viewport(0,0,E.width,E.height),L.clear(L.COLOR_BUFFER_BIT|L.DEPTH_BUFFER_BIT),L.enable(L.BLEND),L.blendFunc(L.ONE,L.ONE_MINUS_SRC_ALPHA),L.useProgram(P),"function"==typeof draw&&draw(),L.useProgram(null)}var o=t("gl-matrix"),a=o.mat2,i=o.mat2d,u=o.mat3,f=o.mat4,c=o.vec2,s=o.vec3,l=o.vec4,h=t("chroma-js");t("seedrandom");random=function(){var e=(t("seedrandom"),new Math.seedrandom);return function(t){return void 0!==t?Math.floor(e()*t):e()}}(),wrap=function(t,e){return(t%e+e)%e};var d=function(t){return Array.isArray(t)||t instanceof Float32Array},p=function(t){window.console&&(window.console.error?window.console.error(t):window.console.log&&window.console.log(t))},v=function(t){return'<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+t+"</div></div></td></tr></table>"},m='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',g='It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>',b=function(t,e){function n(e){var n=t.parentNode;n&&(n.innerHTML=v(e))}if(!window.WebGLRenderingContext)return n(m),null;var r=y(t,e);return r||n(g),r},y=function(t,e){for(var n=["webgl","experimental-webgl"],r=null,o=0;o<n.length;++o){try{r=t.getContext(n[o],e)}catch(a){}if(r)break}return r},M=function(t,e){window!=window.top&&(document.body.className="iframe",t.width=t.clientWidth,t.height=t.clientHeight);var n=b(t,e);return n},x=function(t,e,n,r){var o=r||p,a=t.createShader(n);t.shaderSource(a,e),t.compileShader(a);var i=t.getShaderParameter(a,t.COMPILE_STATUS);return i?a:(lastError=t.getShaderInfoLog(a),o("*** Error compiling shader '"+a+"':"+lastError),t.deleteShader(a),null)},A=function(t,e,n,r){for(var o=t.createProgram(),a=0;a<e.length;++a)t.attachShader(o,e[a]);if(n)for(var i=0;i<n.length;++i)t.bindAttribLocation(o,r?r[i]:i,n[i]);t.linkProgram(o);var u=t.getProgramParameter(o,t.LINK_STATUS);return u?o:(lastError=t.getProgramInfoLog(o),p("Error in program linking:"+lastError),t.deleteProgram(o),null)};requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return window.setTimeout(t,1e3/60)}}(),cancelRequestAnimationFrame=function(){return window.cancelCancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.clearTimeout}();var E=document.createElement("canvas"),_=u.create(),R=function(){w=Math.min(innerWidth,innerHeight),E.setAttribute("width",w),E.setAttribute("height",w),E.style.width=w+"px",E.style.height=w+"px",E.style.position="absolute",E.style.top="0px",E.style.bottom="0px",E.style.left="0px",E.style.right="0px",E.style.margin="auto";var t=E.getBoundingClientRect();u.identity(_),u.scale(_,_,[1/(t.right-t.left),1/(t.top-t.bottom)]),u.translate(_,_,[-t.left,-t.bottom])};window.addEventListener("resize",R,!1),document.body.style.margin="0px",document.body.style.padding="0px",document.body.style.backgroundColor="#888888",document.body.appendChild(E),R();var T=function(t,e){if("function"==typeof mouse){var n=[t.pageX,t.pageY];c.transformMat3(n,n,_),mouse(e,n)}};E.addEventListener("mousedown",function(t){T(t,"down")},!1),E.addEventListener("mouseup",function(t){T(t,"up")},!1),E.addEventListener("mousemove",function(t){T(t,"move")},!1),E.addEventListener("mouseout",function(t){T(t,"out")},!1),E.addEventListener("mouseover",function(t){T(t,"in")},!1);var k=function(t,e){if("function"==typeof touch){t.preventDefault();var n=[t.targetTouches[0].pageX,targetTouches[0].pageY];c.transformMat3(n,n,_),touch(e,n)}};E.addEventListener("touchstart",function(t){k(t,"start")},!1),E.addEventListener("touchend",function(t){k(t,"end")},!1),E.addEventListener("touchcancel",function(t){k(t,"cancel")},!1),E.addEventListener("touchmove",function(t){k(t,"move")},!1);window.addEventListener("keydown",function(t){var e=t.key||t.keyCode;"function"==typeof key&&key("down",e),"function"==typeof keydown&&keydown(e);var n=String.fromCharCode(e).replace(/[^ -~]+/g,"");if(""!==n){"function"==typeof key&&key("down",n),"function"==typeof keydown&&keydown(n);var r="";t.ctrlKey&&(r+="ctrl-"),t.altKey&&(r+="alt-"),t.shiftKey&&(r+="shift-"),""!==r&&("function"==typeof key&&key("down",r+n),"function"==typeof keydown&&keydown(r+n))}},!0),window.addEventListener("keyup",function(t){var e=t.key||t.keyCode;"function"==typeof key&&key("up",e),"function"==typeof keyup&&keyup(e);var n=String.fromCharCode(e).replace(/[^ -~]+/g,"");if(""!==n){"function"==typeof key&&key("up",n),"function"==typeof keyup&&keyup(n);var r="";t.ctrlKey&&(r+="ctrl-"),t.altKey&&(r+="alt-"),t.shiftKey&&(r+="shift-"),""!==r&&("function"==typeof key&&key("up",r+n),"function"==typeof keyup&&keyup(r+n))}},!0),window.addEventListener("keypress",function(t){var e=String.fromCharCode(t.which).replace(/[^ -~]+/g,"");""!==e&&"function"==typeof key&&key("press",e),""!==e&&"function"==typeof keypress&&keypress(e)},!0);var L=M(E,{alpha:!1}),I=L.getExtension("OES_texture_float");I||alert("no floating point texture support"),L.vec2=c,L.vec3=s,L.vec4=l,L.mat2=a,L.mat3=u,L.mat4=f,L.mat2d=i,vec2=function(t,e){this[0]=t||0,this[1]=void 0!==e?e:this[0]},vec2.create=function(t,e){return new vec2(t,e)},vec2.clone=function(t){var e=new vec2;return"object"==typeof t?(e[0]=t[0],e[1]=t[1]):"number"==typeof t&&(e[0]=t,e[1]=t),e},vec2.len=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},vec2.angle=function(t){return Math.atan2(t[1],t[0])},vec2.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},vec2.distance=function(t,e){var n=[t[0]-e[0],t[1]-e[1]];return Math.sqrt(n[0]*n[0]+n[1]*n[1])},vec2.anglebetween=function(t,e){var n=vec2.len(t)*vec2.len(e);return n>0?Math.acos(vec2.dot(t,e)/(vec2.len(t)*vec2.len(e))):0},vec2.equals=function(t,e){return t[0]==e[0]&&t[1]==e[1]},vec2.set=function(t,e,n){return"object"==typeof e?(t[0]=e[0],t[1]=e[1]):"number"==typeof e&&(t[0]=e,t[1]=void 0!==n?n:e),t},vec2.setmag=function(t,e,n){var r=vec2.len(e);if(r>0){var o=n/r;t[0]=e[0]*o,t[1]=e[1]*o}return t},vec2.setangle=function(t,e,n){var r=vec2.len(e);return t[0]=r*Math.cos(n),t[1]=r*Math.sin(n),t},vec2.add=function(t,e,n){return"object"==typeof n?(t[0]=e[0]+n[0],t[1]=e[1]+n[1]):"number"==typeof n&&(t[0]=e[0]+n,t[1]=e[1]+n),t},vec2.sub=function(t,e,n){return"object"==typeof n?(t[0]=e[0]-n[0],t[1]=e[1]-n[1]):"number"==typeof n&&(t[0]=e[0]-n,t[1]=e[1]-n),t},vec2.absdiff=function(t,e,n){return"object"==typeof n?(t[0]=Math.abs(e[0]-n[0]),t[1]=Math.abs(e[1]-n[1])):"number"==typeof n&&(t[0]=Math.abs(e[0]-n),t[1]=Math.abs(e[1]-n)),t},vec2.mul=function(t,e,n){return"object"==typeof n?(t[0]=e[0]*n[0],t[1]=e[1]*n[1]):"number"==typeof n&&(t[0]=e[0]*n,t[1]=e[1]*n),t},vec2.div=function(t,e,n){return"object"==typeof n?(t[0]=e[0]/n[0],t[1]=e[1]/n[1]):"number"==typeof n&&(t[0]=e[0]/n,t[1]=e[1]/n),t},vec2.wrap=function(t,e,n,r){var o=1,a=1;return"object"==typeof n?(o=n[0],a=n[1]):"number"==typeof n&&(o=n,a="number"==typeof r?r:o),t[0]=wrap(e[0],o),t[1]=wrap(e[1],a),t},vec2.lesser=function(t,e,n){return"object"==typeof n?(t[0]=Math.abs(e[0])<Math.abs(n[0])?e[0]:n[0],t[1]=Math.abs(e[1])<Math.abs(n[1])?e[1]:n[1]):"number"==typeof n&&(t[0]=Math.abs(e[0])<Math.abs(n)?e[0]:n,t[1]=Math.abs(e[1])<Math.abs(n)?e[1]:n),t},vec2.greater=function(t,e,n){return"object"==typeof n?(t[0]=Math.abs(e[0])>=Math.abs(n[0])?e[0]:n[0],t[1]=Math.abs(e[1])>=Math.abs(n[1])?e[1]:n[1]):"number"==typeof n&&(t[0]=Math.abs(e[0])>=Math.abs(n)?e[0]:n,t[1]=Math.abs(e[1])>=Math.abs(n)?e[1]:n),t};var j=function(t,e){return e=e||0,function(n,r,o){return"object"==typeof o?(n[0]=t(r[0],o[0]),n[1]=t(r[1],o[1])):"number"==typeof o?(n[0]=t(r[0],o),n[1]=t(r[1],o)):(n[0]=t(r[0],e),n[1]=t(r[1],e)),n}};vec2.pow=j(Math.pow,1),vec2.min=j(Math.min,1),vec2.max=j(Math.max,0),vec2.clip=function(t,e,n,r){return void 0===r&&(r=n,n=0),vec2.max(t,vec2.min(t,e,r),n)},vec2.mix=function(t,e,n,r){if("object"==typeof r){[r[0],r[1]];return t[0]=e[0]*(1-r[0])+n[0]*r[0],t[1]=e[1]*(1-r[1])+n[1]*r[1],t}r="number"==typeof r?r:.5;var o=1-r;return t[0]=e[0]*o+n[0]*r,t[1]=e[1]*o+n[1]*r,t},vec2.relativewrap=function(t,e,n,r){var o=1,a=1;"object"==typeof n?(o=n[0],a=n[1]):"number"==typeof n&&(o=n,a="number"==typeof r?r:o);var i=.5*o,u=.5*a;return t[0]=wrap(e[0]+i,o)-i,t[1]=wrap(e[1]+u,a)-u,t},vec2.normalize=function(t,e){var n=vec2.len(e);return n>0?(t[0]/=n,t[1]/=n,t):t.random()},vec2.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},vec2.limit=function(t,e,n){var r=vec2.dot(e,e);if(r>n*n){var o=n/Math.sqrt(r);t[0]*=o,t[1]*=o}return t},vec2.rotate=function(t,e,n){var r=Math.cos(n),o=Math.sin(n),a=e[0],i=e[1];return t[0]=a*r-i*o,t[1]=i*r+a*o,t},vec2.mag=vec2.len,vec2.magnitude=vec2.len,vec2.setlen=vec2.setmag,vec2.setlength=vec2.setmag,vec2.setmagnitude=vec2.setmag,vec2.dist=vec2.distance,vec2.copy=vec2.clone,vec2.translate=vec2.add,vec2.scale=vec2.mul,vec2.subtract=vec2.sub,vec2.multiply=vec2.mul,vec2.divide=vec2.div,vec2.clamp=vec2.clip,vec2.lerp=vec2.mix,vec2.prototype.fromAngle=function(t){return t=void 0!==t?t:0,this[0]=Math.cos(t),this[1]=Math.sin(t),this},vec2.prototype.fromPolar=function(t,e){return t=void 0!==t?t:1,e=void 0!==e?e:0,this[0]=t*Math.cos(e),this[1]=t*Math.sin(e),this},vec2.prototype.random=function(t){t=void 0!==t?t:1;var e=random()*Math.PI*2;return this[0]=Math.cos(e)*t,this[1]=Math.sin(e)*t,this},vec2.prototype.len=function(t){return void 0!==t?vec2.setmag(this,this,t):vec2.len(this)},vec2.prototype.angle=function(t){return void 0!==t?vec2.setangle(this,this,t):vec2.angle(this)},vec2.prototype.distance=function(t){return vec2.distance(this,t)},vec2.prototype.anglebetween=function(t){return vec2.anglebetween(this,t)},vec2.prototype.dot=function(t){return vec2.dot(this,t)},vec2.prototype.equals=function(t){return vec2.equals(this,t)},vec2.prototype.set=function(t,e){return vec2.set(this,t,e)},vec2.prototype.clone=function(){return vec2.clone(this)},vec2.prototype.setmag=function(t){return vec2.setmag(this,this,t)},vec2.prototype.setangle=function(t){return vec2.setangle(this,this,t)},vec2.prototype.add=function(t){return vec2.add(this,this,t)},vec2.prototype.sub=function(t){return vec2.sub(this,this,t)},vec2.prototype.absdiff=function(t){return vec2.absdiff(this,this,t)},vec2.prototype.mul=function(t){return vec2.mul(this,this,t)},vec2.prototype.div=function(t){return vec2.div(this,this,t)},vec2.prototype.pow=function(t,e){return vec2.pow(this,this,t,e)},vec2.prototype.max=function(t,e){return vec2.max(this,this,t,e)},vec2.prototype.min=function(t,e){return vec2.min(this,this,t,e)},vec2.prototype.greater=function(t){return vec2.greater(this,this,t)},vec2.prototype.lesser=function(t){return vec2.lesser(this,this,t)},vec2.prototype.clip=function(t,e){return vec2.clip(this,this,t,e)},vec2.prototype.mix=function(t,e){return vec2.mix(this,this,t,e)},vec2.prototype.wrap=function(t,e){return vec2.wrap(this,this,t,e)},vec2.prototype.relativewrap=function(t,e){return vec2.relativewrap(this,this,t,e)},vec2.prototype.normalize=function(){return vec2.normalize(this,this)},vec2.prototype.negate=function(){return vec2.negate(this,this)},vec2.prototype.limit=function(t){return vec2.limit(this,this,t)},vec2.prototype.rotate=function(t){return vec2.rotate(this,this,t)},vec2.prototype.mag=vec2.prototype.len,vec2.prototype.magnitude=vec2.prototype.len,vec2.prototype.setlen=vec2.prototype.setmag,vec2.prototype.setlength=vec2.prototype.setmag,vec2.prototype.setmagnitude=vec2.prototype.setmag,vec2.prototype.dist=vec2.prototype.distance,vec2.prototype.copy=vec2.prototype.clone,vec2.prototype.translate=vec2.prototype.add,vec2.prototype.scale=vec2.prototype.mul,vec2.prototype.subtract=vec2.prototype.sub,vec2.prototype.multiply=vec2.prototype.mul,vec2.prototype.divide=vec2.prototype.div,vec2.prototype.clamp=vec2.prototype.clamp,vec2.prototype.lerp=vec2.prototype.mix;for(var B=function(t){return function(){return t.apply(new vec2,arguments)}},D=["random","fromAngle","fromPolar"],N=0;N<D.length;N++){var U=D[N],q=vec2.prototype[U];vec2[D[N]]=B(q)}var S=x(L,["attribute vec2 a_position;","attribute vec2 a_texcoord;","uniform mat3 u_modelView;","varying vec2 texCoord;","void main() { ","vec3 p = u_modelView * vec3(a_position, 1.);","gl_Position = vec4(p, 1);","texCoord = a_texcoord; //a_position;","}"].join("\n"),L.VERTEX_SHADER),F=x(L,["precision mediump float;","uniform sampler2D u_tex;","uniform vec4 u_color;","varying vec2 texCoord;","void main() { ","//gl_FragColor = u_color;","gl_FragColor = u_color * texture2D(u_tex, texCoord);","gl_FragColor.rgb *= gl_FragColor.a; // premultiply alpha","}"].join("\n"),L.FRAGMENT_SHADER),P=A(L,[S,F]),C=L.getAttribLocation(P,"a_position"),Y=L.getAttribLocation(P,"a_texcoord"),O=L.getUniformLocation(P,"u_color"),X=L.getUniformLocation(P,"u_modelView");L.getUniformLocation(P,"u_tex");draw2D={chroma:h,gl:L};var z=h("white"),G=u.create(),V=u.create();u.identity(V),u.scale(V,V,[2,2]),u.translate(V,V,[-.5,-.5]);var W=[],H=function(){var t=L.createTexture();L.bindTexture(L.TEXTURE_2D,t),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.NEAREST),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.NEAREST);for(var e=new ArrayBuffer(64),n=new Float32Array(e),r=0;16>r;r++)n[r]=1;return L.texImage2D(L.TEXTURE_2D,0,L.RGBA,2,2,0,L.RGBA,L.FLOAT,n),t}(),K=H;draw2D.texture=function(t){void 0!==t&&void 0!==t.tex?(K=t.tex,t.bindtexture()):(K=H,L.bindTexture(L.TEXTURE_2D,H))},draw2D.color=function(t,e,n,r){return"string"==typeof t||"object"==typeof t?(z=h(t),this):("undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=0),"undefined"==typeof n&&(n=0),"undefined"==typeof r&&(r=1),z=h.gl(t,e,n,r),this)},draw2D.push=function(t){return W.push(G),G=u.clone(G),"object"==typeof t&&u.multiply(G,G,t),this},draw2D.pop=function(){return W.length>0&&(G=W.pop()),this},draw2D.transform=function(t){return"object"==typeof t&&u.multiply(G,G,t),this},draw2D.translate=function(){if(arguments.length>0){var t=0,e=0,n=arguments[0];"number"==typeof n?(t=n,e=void 0!==arguments[1]?arguments[1]:e):"object"==typeof n&&(t=n[0]||t,e=n[1]||e),u.translate(G,G,[t,e])}return this},draw2D.scale=function(){if(arguments.length>0){var t,e=0,n=arguments[0];"number"==typeof n?(e=n,t=void 0!==arguments[1]?arguments[1]:e):"object"==typeof n&&(e=n[0]||e,t=void 0!==n[1]?n[1]:e),u.scale(G,G,[e,t])}return this},draw2D.rotate=function(t){return"object"==typeof t&&(t=vec2.angle(t)),"number"==typeof t&&u.rotate(G,G,t),this};var Z=function(t){var e=t(),n=L.createBuffer();L.bindBuffer(L.ARRAY_BUFFER,n),L.bufferData(L.ARRAY_BUFFER,new Float32Array(e.vertices),L.STATIC_DRAW);var r=L.createBuffer();L.bindBuffer(L.ARRAY_BUFFER,r),L.bufferData(L.ARRAY_BUFFER,new Float32Array(e.texcoords),L.STATIC_DRAW);var o=L.createBuffer();L.bindBuffer(L.ELEMENT_ARRAY_BUFFER,o),L.bufferData(L.ELEMENT_ARRAY_BUFFER,new Uint16Array(e.indices),L.STATIC_DRAW);var a=e.indices.length;return function(){var t=G;if(arguments.length>0){var e,i=0,f=0,c=1,s=arguments[0];"number"==typeof s?(i=s,f=void 0!==arguments[1]?arguments[1]:f,s=arguments[2],"object"==typeof s?(c=void 0!==s[0]?s[0]:c,e=void 0!==s[1]?s[1]:c):"number"==typeof s&&(c=s,e=void 0!==arguments[3]?arguments[3]:c)):"object"==typeof s&&(i=s[0]||i,f=s[1]||f,s=arguments[1],"object"==typeof s?(c=void 0!==s[0]?s[0]:c,e=void 0!==s[1]?s[1]:c):"number"==typeof s&&(c=s,e=void 0!==arguments[2]?arguments[2]:c)),t=u.clone(G),u.translate(t,t,[i,f]),u.scale(t,t,[c,e])}return L.uniform4fv(O,z.gl()),L.uniformMatrix3fv(X,!1,t),L.bindBuffer(L.ARRAY_BUFFER,n),L.enableVertexAttribArray(C),L.vertexAttribPointer(C,2,L.FLOAT,!1,0,0),L.bindBuffer(L.ARRAY_BUFFER,r),L.enableVertexAttribArray(Y),L.vertexAttribPointer(Y,2,L.FLOAT,!1,0,0),L.bindBuffer(L.ELEMENT_ARRAY_BUFFER,o),L.drawElements(L.TRIANGLES,a,L.UNSIGNED_SHORT,0),L.bindBuffer(L.ELEMENT_ARRAY_BUFFER,null),L.bindBuffer(L.ARRAY_BUFFER,null),draw2D}};draw2D.rect=Z(function(){return{vertices:[-.5,-.5,.5,-.5,-.5,.5,.5,.5],texcoords:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}),draw2D.circle=Z(function(){for(var t={vertices:[0,0,.5,0],texcoords:[.5,.5,1,.5],indices:[]},e=2*Math.PI/32,n=1;32>n;n++){var r=n+1,o=e*(n+1);t.vertices[2*r]=.5*Math.cos(o),t.vertices[2*r+1]=.5*Math.sin(o),t.texcoords[2*r]=t.vertices[2*r]+.5,t.texcoords[2*r+1]=t.vertices[2*r+1]+.5,t.indices.push(0),t.indices.push(r),t.indices.push(r-1)}return t}),draw2D.square=draw2D.rect,draw2D.ellipse=draw2D.circle,field2D=function(t,e){"undefined"==typeof t&&(t=64),"undefined"==typeof e&&(e=t),this.dim=[t,e],this.width=t,this.height=e,this.buffer=new ArrayBuffer(this.width*this.height*4*4),this.array=new Float32Array(this.buffer),this.clear(),this.tex=L.createTexture()},field2D.prototype.clone=function(){for(var t=new field2D(this.width,this.height),e=0,n=this.array.length;n>e;e++)t.array[e]=this.array[e];return t},field2D.prototype.clear=function(){for(var t=this.array,e=0,n=t.length;n>e;e+=4)t[e]=0,t[e+1]=0,t[e+2]=0,t[e+3]=1;return this},field2D.prototype.bindtexture=function(){L.bindTexture(L.TEXTURE_2D,this.tex),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.NEAREST),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.NEAREST),L.texImage2D(L.TEXTURE_2D,0,L.RGBA,this.width,this.height,0,L.RGBA,L.FLOAT,this.array)},field2D.prototype.draw=function(){this.bindtexture(),draw2D.rect(.5,.5,1),L.bindTexture(L.TEXTURE_2D,H)},field2D.prototype.get=function(t,e){t=wrap(t,this.width),e=wrap(e,this.height);var n=4*(e*this.width+t);return this.array[n]},field2D.prototype.moore=function(t,e){var n=wrap(t-1,this.width),r=wrap(t,this.width),o=wrap(t+1,this.width),a=wrap(e-1,this.height),i=wrap(e,this.height),u=wrap(e+1,this.height),f=a*this.width,c=i*this.width,s=u*this.width,l=this.array;return[l[4*(f+n)],l[4*(f+r)],l[4*(f+o)],l[4*(c+n)],l[4*(c+r)],l[4*(c+o)],l[4*(s+n)],l[4*(s+r)],l[4*(s+o)]]},field2D.prototype.cell=function(t,e){t=wrap(t,this.width),e=wrap(e,this.height);var n=4*(e*this.width+t);return this.array.subarray(n,n+4)},field2D.prototype.sample=function(t,e,n){if("object"==typeof t&&(e=t[1],t=t[1],n=e),"number"!=typeof t||"number"!=typeof e)return p("attempt to get field cell with invalid coordinate type"),0;n="number"!=typeof n?0:wrap(n,4);var r=this.array;t=wrap(t*this.width-.5,this.width),e=wrap(e*this.height-.5,this.height);var o=Math.floor(t),a=Math.floor(e),i=wrap(o+1,this.width),u=wrap(a+1,this.height),f=t-o,c=e-a,s=1-f,l=1-c,h=r[4*(a*this.width+o)+n],d=r[4*(a*this.width+i)+n],v=r[4*(u*this.width+o)+n],m=r[4*(u*this.width+i)+n];return h*s*l+d*f*l+v*s*c+m*f*c},field2D.prototype.deposit=function(t,e,n,r){if("object"==typeof e&&(n=e[1],e=e[1],r=n),"number"!=typeof e||"number"!=typeof n)return p("attempt to get field cell with invalid coordinate type"),0;var o=this.array;e=wrap(e*this.width-.5,this.width),n=wrap(n*this.height-.5,this.height);var a=Math.floor(e),i=Math.floor(n),u=wrap(a+1,this.width),f=wrap(i+1,this.height),c=4*(i*this.width+a),s=4*(i*this.width+u),l=4*(f*this.width+a),h=4*(f*this.width+u),v=e-a,m=n-i,g=1-v,b=1-m,y=0,w=4;"number"==typeof r&&(y="number"!=typeof r?0:wrap(r,4),w=y+1);for(var M=y;w>M;M++){var x=t;if(d(t)&&(x=x[r]),void 0!==x){var A=o[c+M],E=o[s+M],_=o[l+M],R=o[h+M];o[c+M]=A+g*b*x,o[s+M]=E+v*b*x,o[l+M]=_+g*b*x,o[h+M]=R+v*b*x}}return this},field2D.prototype.update=function(t,e,n,r){if("object"==typeof e&&(n=e[1],e=e[1],r=n),"number"!=typeof e||"number"!=typeof n)return p("attempt to get field cell with invalid coordinate type"),0;var o=this.array;e=wrap(e*this.width-.5,this.width),n=wrap(n*this.height-.5,this.height);var a=Math.floor(e),i=Math.floor(n),u=wrap(a+1,this.width),f=wrap(i+1,this.height),c=4*(i*this.width+a),s=4*(i*this.width+u),l=4*(f*this.width+a),h=4*(f*this.width+u),v=e-a,m=n-i,g=1-v,b=1-m,y=0,w=4;"number"==typeof r&&(y="number"!=typeof r?0:wrap(r,4),w=y+1);for(var M=y;w>M;M++){var x=t;if(d(t)&&(x=x[r]),void 0!==x){var A=o[c+M],E=o[s+M],_=o[l+M],R=o[h+M];o[c+M]=A+g*b*(x-A),o[s+M]=E+v*b*(x-E),o[l+M]=_+g*b*(x-_),o[h+M]=R+v*b*(x-R)}}return this},field2D.prototype.setxy=function(t,e,n){if("undefined"==typeof t)return this;if("number"==typeof t&&(t=[t,t,t]),"function"==typeof t)return this.setxy(t.call(this,e,n),e,n);if(t instanceof Array){var r=4*(n*this.width+e);t.length>0?+t[0]:0;"number"==typeof t[0]&&(this.array[r]=t[0]),"number"==typeof t[1]&&(this.array[r+1]=t[1]),"number"==typeof t[2]&&(this.array[r+2]=t[2]),"number"==typeof t[3]&&(this.array[r+3]=t[3])}return this},field2D.prototype.set=function(t,e,n){if("undefined"==typeof t)return this;if("number"==typeof t&&(t=[t,t,t]),"undefined"==typeof e||"undefined"==typeof n){for(n=0;n<this.height;++n)for(e=0;e<this.width;++e)this.setxy(t,e,n);return this}if(e=wrap(e,this.width),n=wrap(n,this.height),"function"==typeof t)return this.set(t.call(this,e,n),e,n);if(t instanceof Array){var r=4*(n*this.width+e);t.length>0?+t[0]:0;"number"==typeof t[0]&&(this.array[r]=t[0]),"number"==typeof t[1]&&(this.array[r+1]=t[1]),"number"==typeof t[2]&&(this.array[r+2]=t[2]),"number"==typeof t[3]&&(this.array[r+3]=t[3])}return this},field2D.prototype.map=function(t){for(var e=this.array,n=this.width,r=this.height,o=0;r>o;o++)for(var a=0;n>a;a++){var i=e[4*(o*n+a)],u=t(i,a,o);"undefined"!=typeof u&&this.set(u,a,o)}return this},field2D.prototype.reduce=function(t,e){for(var n=this.array,r=this.width,o=this.height,a=0;o>a;a++)for(var i=0;r>i;i++)e=t(e,n[4*(a*r+i)],i,a);return e},field2D.prototype.scale=function(t){for(var e=this.array.data,n=0,r=e.length;r>n;n++)e[n]*=t;return this},field2D.prototype.sum=function(){return this.reduce(function(t,e){return t+e},0)},field2D.prototype.max=function(){return this.reduce(Math.max,Number.NEGATIVE_INFINITY)},field2D.prototype.min=function(){return this.reduce(Math.min,Number.MAX_VALUE)},field2D.prototype.normalize=function(){for(var t=this.array,e=(this.width,this.height,Math.min(t[0],t[1],t[2])),n=Math.max(t[0],t[1],t[2]),r=1,o=t.length;o>r;r+=4)e=Math.min(e,t[r],t[r+1],t[r+2]),n=Math.max(n,t[r],t[r+1],t[r+2]);var a=n-e;if(a>0){var i=1/a;for(r=0,o=t.length;o>r;r+=4)t[r]=i*(t[r]-e),t[r+1]=i*(t[r+1]-e),t[r+2]=i*(t[r+2]-e)}return this},field2D.prototype.clear=function(){for(var t=this.array,e=0,n=t.length;n>e;e+=4)t[e]=0,t[e+1]=0,t[e+2]=0,t[e+3]=1;return this},field2D.prototype.diffuse=function(t,e,n){var r=this.array;e="number"==typeof e?e:.1,n="number"==typeof n?n:10;var o=t.array,a=1/(1+4*e),i=t.width,u=t.height;if(i!=this.width||u!=this.height)return console.log("field2D.diffuse(): field dims do not match."),this;for(var f=1;n>f;f++)for(var c=0;u>c;c++)for(var s=0;i>s;s++)for(var l=4*(c*i+s),h=4*(wrap(c-1,u)*i+s),d=4*(c*i+wrap(s-1,i)),p=4*(wrap(c+1,u)*i+s),v=4*(c*i+wrap(s+1,i)),m=0;4>m;m++){var g=o[l+m],b=r[d+m]+r[v+m]+r[h+m]+r[p+m];r[l+m]=a*(g+e*b)}return this},requestAnimationFrame(r)},{"chroma-js":2,"gl-matrix":3,seedrandom:22}],2:[function(t,e,n){(function(){var t,r,o,a,i,u,f,c,s,l,h,d,p,v,m,g,b,y,w,M,x,A,E,_,R,T,k,L,I,j,B,D,N,U,q,S,F,P,C,Y,O,X,z,G,V,W,H,K,Z,Q,J,$,tt,et,nt,rt,ot,at,it,ut,ft,ct,st,lt,ht,dt,pt,vt,mt,gt,bt,yt,wt,Mt,xt,At,Et,_t,Rt,Tt=[].slice;xt=function(){var t,e,n,r,o;for(t={},o="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),r=0,e=o.length;e>r;r++)n=o[r],t["[object "+n+"]"]=n.toLowerCase();return function(e){var n;return n=Object.prototype.toString.call(e),t[n]||"object"}}(),V=function(t,e,n){return null==e&&(e=0),null==n&&(n=1),e>t&&(t=e),t>n&&(t=n),t},At=function(t){return t.length>=3?[].slice.call(t):t[0]},M=function(t){var e;for(e in t)3>e?(t[e]<0&&(t[e]=0),t[e]>255&&(t[e]=255)):3===e&&(t[e]<0&&(t[e]=0),t[e]>1&&(t[e]=1));return t},a=Math.PI,gt=Math.round,E=Math.cos,L=Math.floor,et=Math.pow,W=Math.log,yt=Math.sin,wt=Math.sqrt,p=Math.atan2,Z=Math.max,d=Math.abs,f=2*a,i=a/3,r=a/180,u=180/a,w=function(){return arguments[0]instanceof t?arguments[0]:function(t,e,n){n.prototype=t.prototype;var r=new n,o=t.apply(r,e);return Object(o)===o?o:r}(t,arguments,function(){})},h=[],"undefined"!=typeof e&&null!==e&&null!=e.exports&&(e.exports=w),"function"==typeof define&&define.amd?define([],function(){return w}):(mt="undefined"!=typeof n&&null!==n?n:this,mt.chroma=w),w.version="1.1.1",l={},c=[],s=!1,t=function(){function t(){var t,e,n,r,o,a,i,u,f;for(a=this,e=[],u=0,r=arguments.length;r>u;u++)t=arguments[u],null!=t&&e.push(t);if(i=e[e.length-1],null!=l[i])a._rgb=M(l[i](At(e.slice(0,-1))));else{for(s||(c=c.sort(function(t,e){return e.p-t.p}),s=!0),f=0,o=c.length;o>f&&(n=c[f],!(i=n.test.apply(n,e)));f++);i&&(a._rgb=M(l[i].apply(l,e)))}null==a._rgb&&console.warn("unknown format: "+e),null==a._rgb&&(a._rgb=[0,0,0]),3===a._rgb.length&&a._rgb.push(1)}return t.prototype.alpha=function(t){return arguments.length?(this._rgb[3]=t,this):this._rgb[3]},t.prototype.toString=function(){return this.name()},t}(),w._input=l,w.brewer=b={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Et={indigo:"#4b0082",gold:"#ffd700",hotpink:"#ff69b4",firebrick:"#b22222",indianred:"#cd5c5c",yellow:"#ffff00",mistyrose:"#ffe4e1",darkolivegreen:"#556b2f",olive:"#808000",darkseagreen:"#8fbc8f",pink:"#ffc0cb",tomato:"#ff6347",lightcoral:"#f08080",orangered:"#ff4500",navajowhite:"#ffdead",lime:"#00ff00",palegreen:"#98fb98",darkslategrey:"#2f4f4f",greenyellow:"#adff2f",burlywood:"#deb887",seashell:"#fff5ee",mediumspringgreen:"#00fa9a",fuchsia:"#ff00ff",papayawhip:"#ffefd5",blanchedalmond:"#ffebcd",chartreuse:"#7fff00",dimgray:"#696969",black:"#000000",peachpuff:"#ffdab9",springgreen:"#00ff7f",aquamarine:"#7fffd4",white:"#ffffff",orange:"#ffa500",lightsalmon:"#ffa07a",darkslategray:"#2f4f4f",brown:"#a52a2a",ivory:"#fffff0",dodgerblue:"#1e90ff",peru:"#cd853f",lawngreen:"#7cfc00",chocolate:"#d2691e",crimson:"#dc143c",forestgreen:"#228b22",darkgrey:"#a9a9a9",lightseagreen:"#20b2aa",cyan:"#00ffff",mintcream:"#f5fffa",silver:"#c0c0c0",antiquewhite:"#faebd7",mediumorchid:"#ba55d3",skyblue:"#87ceeb",gray:"#808080",darkturquoise:"#00ced1",goldenrod:"#daa520",darkgreen:"#006400",floralwhite:"#fffaf0",darkviolet:"#9400d3",darkgray:"#a9a9a9",moccasin:"#ffe4b5",saddlebrown:"#8b4513",grey:"#808080",darkslateblue:"#483d8b",lightskyblue:"#87cefa",lightpink:"#ffb6c1",mediumvioletred:"#c71585",slategrey:"#708090",red:"#ff0000",deeppink:"#ff1493",limegreen:"#32cd32",darkmagenta:"#8b008b",palegoldenrod:"#eee8aa",plum:"#dda0dd",turquoise:"#40e0d0",lightgrey:"#d3d3d3",lightgoldenrodyellow:"#fafad2",darkgoldenrod:"#b8860b",lavender:"#e6e6fa",maroon:"#800000",yellowgreen:"#9acd32",sandybrown:"#f4a460",thistle:"#d8bfd8",violet:"#ee82ee",navy:"#000080",magenta:"#ff00ff",dimgrey:"#696969",tan:"#d2b48c",rosybrown:"#bc8f8f",olivedrab:"#6b8e23",blue:"#0000ff",lightblue:"#add8e6",ghostwhite:"#f8f8ff",honeydew:"#f0fff0",cornflowerblue:"#6495ed",slateblue:"#6a5acd",linen:"#faf0e6",darkblue:"#00008b",powderblue:"#b0e0e6",seagreen:"#2e8b57",darkkhaki:"#bdb76b",snow:"#fffafa",sienna:"#a0522d",mediumblue:"#0000cd",royalblue:"#4169e1",lightcyan:"#e0ffff",green:"#008000",mediumpurple:"#9370db",midnightblue:"#191970",cornsilk:"#fff8dc",paleturquoise:"#afeeee",bisque:"#ffe4c4",slategray:"#708090",darkcyan:"#008b8b",khaki:"#f0e68c",wheat:"#f5deb3",teal:"#008080",darkorchid:"#9932cc",deepskyblue:"#00bfff",salmon:"#fa8072",darkred:"#8b0000",steelblue:"#4682b4",palevioletred:"#db7093",lightslategray:"#778899",aliceblue:"#f0f8ff",lightslategrey:"#778899",lightgreen:"#90ee90",orchid:"#da70d6",gainsboro:"#dcdcdc",mediumseagreen:"#3cb371",lightgray:"#d3d3d3",mediumturquoise:"#48d1cc",lemonchiffon:"#fffacd",cadetblue:"#5f9ea0",
lightyellow:"#ffffe0",lavenderblush:"#fff0f5",coral:"#ff7f50",purple:"#800080",aqua:"#00ffff",whitesmoke:"#f5f5f5",mediumslateblue:"#7b68ee",darkorange:"#ff8c00",mediumaquamarine:"#66cdaa",darksalmon:"#e9967a",beige:"#f5f5dc",blueviolet:"#8a2be2",azure:"#f0ffff",lightsteelblue:"#b0c4de",oldlace:"#fdf5e6",rebeccapurple:"#663399"},w.colors=A=Et,Y=function(){var t,e,n,r,a,i,u,f,c;return e=At(arguments),a=e[0],t=e[1],n=e[2],f=(a+16)/116,u=isNaN(t)?f:f+t/500,c=isNaN(n)?f:f-n/200,f=o.Yn*O(f),u=o.Xn*O(u),c=o.Zn*O(c),i=Rt(3.2404542*u-1.5371385*f-.4985314*c),r=Rt(-.969266*u+1.8760108*f+.041556*c),n=Rt(.0556434*u-.2040259*f+1.0572252*c),i=V(i,0,255),r=V(r,0,255),n=V(n,0,255),[i,r,n,e.length>3?e[3]:1]},Rt=function(t){return gt(255*(.00304>=t?12.92*t:1.055*et(t,1/2.4)-.055))},O=function(t){return t>o.t1?t*t*t:o.t2*(t-o.t0)},o={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ft=function(){var t,e,n,r,o,a,i,u;return r=At(arguments),n=r[0],e=r[1],t=r[2],o=dt(n,e,t),a=o[0],i=o[1],u=o[2],[116*i-16,500*(a-i),200*(i-u)]},pt=function(t){return(t/=255)<=.04045?t/12.92:et((t+.055)/1.055,2.4)},_t=function(t){return t>o.t3?et(t,1/3):t/o.t2+o.t0},dt=function(){var t,e,n,r,a,i,u;return r=At(arguments),n=r[0],e=r[1],t=r[2],n=pt(n),e=pt(e),t=pt(t),a=_t((.4124564*n+.3575761*e+.1804375*t)/o.Xn),i=_t((.2126729*n+.7151522*e+.072175*t)/o.Yn),u=_t((.0193339*n+.119192*e+.9503041*t)/o.Zn),[a,i,u]},w.lab=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,o=t.apply(r,e);return Object(o)===o?o:r}(t,Tt.call(arguments).concat(["lab"]),function(){})},l.lab=Y,t.prototype.lab=function(){return ft(this._rgb)},v=function(t){var e,n,r,o,a,i,u,f,c,s,l;return t=function(){var e,n,r;for(r=[],n=0,e=t.length;e>n;n++)o=t[n],r.push(w(o));return r}(),2===t.length?(c=function(){var e,n,r;for(r=[],n=0,e=t.length;e>n;n++)o=t[n],r.push(o.lab());return r}(),a=c[0],i=c[1],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;2>=n;e=++n)r.push(a[e]+t*(i[e]-a[e]));return r}(),w.lab.apply(w,n)}):3===t.length?(s=function(){var e,n,r;for(r=[],n=0,e=t.length;e>n;n++)o=t[n],r.push(o.lab());return r}(),a=s[0],i=s[1],u=s[2],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;2>=n;e=++n)r.push((1-t)*(1-t)*a[e]+2*(1-t)*t*i[e]+t*t*u[e]);return r}(),w.lab.apply(w,n)}):4===t.length?(l=function(){var e,n,r;for(r=[],n=0,e=t.length;e>n;n++)o=t[n],r.push(o.lab());return r}(),a=l[0],i=l[1],u=l[2],f=l[3],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;2>=n;e=++n)r.push((1-t)*(1-t)*(1-t)*a[e]+3*(1-t)*(1-t)*t*i[e]+3*(1-t)*t*t*u[e]+t*t*t*f[e]);return r}(),w.lab.apply(w,n)}):5===t.length&&(n=v(t.slice(0,3)),r=v(t.slice(2,5)),e=function(t){return.5>t?n(2*t):r(2*(t-.5))}),e},w.bezier=function(t){var e;return e=v(t),e.scale=function(){return w.scale(e)},e},w.cubehelix=function(t,e,n,r,o){var a,i,u;return null==t&&(t=300),null==e&&(e=-1.5),null==n&&(n=1),null==r&&(r=1),null==o&&(o=[0,1]),i=o[1]-o[0],a=0,u=function(u){var c,s,l,h,d,p,v,m,g;return c=f*((t+120)/360+e*u),v=et(o[0]+i*u,r),p=0!==a?n[0]+u*a:n,s=p*v*(1-v)/2,h=E(c),g=yt(c),m=v+s*(-.14861*h+1.78277*g),d=v+s*(-.29227*h-.90649*g),l=v+s*(1.97294*h),w(M([255*m,255*d,255*l]))},u.start=function(e){return null==e?t:(t=e,u)},u.rotations=function(t){return null==t?e:(e=t,u)},u.gamma=function(t){return null==t?r:(r=t,u)},u.hue=function(t){return null==t?n:(n=t,"array"===xt(n)?(a=n[1]-n[0],0===a&&(n=n[1])):a=0,u)},u.lightness=function(t){return null==t?o:(o=t,"array"===xt(o)?(i=o[1]-o[0],0===i&&(o=o[1])):i=0,u)},u.scale=function(){return w.scale(u)},u.hue(n),u},w.random=function(){var e,n,r,o;for(n="0123456789abcdef",e="#",r=o=0;6>o;r=++o)e+=n.charAt(L(16*Math.random()));return new t(e)},l.rgb=function(){var t,e,n,r;e=At(arguments),n=[];for(t in e)r=e[t],n.push(r);return n},w.rgb=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,o=t.apply(r,e);return Object(o)===o?o:r}(t,Tt.call(arguments).concat(["rgb"]),function(){})},t.prototype.rgb=function(){return this._rgb.slice(0,3)},t.prototype.rgba=function(){return this._rgb},c.push({p:15,test:function(t){var e;return e=At(arguments),"array"===xt(e)&&3===e.length?"rgb":4===e.length&&"number"===xt(e[3])&&e[3]>=0&&e[3]<=1?"rgb":void 0}}),I=function(t){var e,n,r,o,a,i;if(t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(4===t.length||7===t.length)&&(t=t.substr(1)),3===t.length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),i=parseInt(t,16),o=i>>16,r=i>>8&255,n=255&i,[o,r,n,1];if(t.match(/^#?([A-Fa-f0-9]{8})$/))return 9===t.length&&(t=t.substr(1)),i=parseInt(t,16),o=i>>24&255,r=i>>16&255,n=i>>8&255,e=gt((255&i)/255*100)/100,[o,r,n,e];if(null!=l.css&&(a=l.css(t)))return a;throw"unknown color: "+t},ot=function(t,e){var n,r,o,a,i,u,f;return null==e&&(e="rgb"),i=t[0],o=t[1],r=t[2],n=t[3],f=i<<16|o<<8|r,u="000000"+f.toString(16),u=u.substr(u.length-6),a="0"+gt(255*n).toString(16),a=a.substr(a.length-2),"#"+function(){switch(e.toLowerCase()){case"rgba":return u+a;case"argb":return a+u;default:return u}}()},l.hex=function(t){return I(t)},w.hex=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,o=t.apply(r,e);return Object(o)===o?o:r}(t,Tt.call(arguments).concat(["hex"]),function(){})},t.prototype.hex=function(t){return null==t&&(t="rgb"),ot(this._rgb,t)},c.push({p:10,test:function(t){return 1===arguments.length&&"string"===xt(t)?"hex":void 0}}),D=function(){var t,e,n,r,o,a,i,u,f,c,s,l,h,d;if(t=At(arguments),o=t[0],s=t[1],i=t[2],0===s)f=r=e=255*i;else{for(d=[0,0,0],n=[0,0,0],h=.5>i?i*(1+s):i+s-i*s,l=2*i-h,o/=360,d[0]=o+1/3,d[1]=o,d[2]=o-1/3,a=u=0;2>=u;a=++u)d[a]<0&&(d[a]+=1),d[a]>1&&(d[a]-=1),6*d[a]<1?n[a]=l+6*(h-l)*d[a]:2*d[a]<1?n[a]=h:3*d[a]<2?n[a]=l+(h-l)*(2/3-d[a])*6:n[a]=l;c=[gt(255*n[0]),gt(255*n[1]),gt(255*n[2])],f=c[0],r=c[1],e=c[2]}return t.length>3?[f,r,e,t[3]]:[f,r,e]},it=function(t,e,n){var r,o,a,i,u;return void 0!==t&&t.length>=3&&(i=t,t=i[0],e=i[1],n=i[2]),t/=255,e/=255,n/=255,a=Math.min(t,e,n),Z=Math.max(t,e,n),o=(Z+a)/2,Z===a?(u=0,r=Number.NaN):u=.5>o?(Z-a)/(Z+a):(Z-a)/(2-Z-a),t===Z?r=(e-n)/(Z-a):e===Z?r=2+(n-t)/(Z-a):n===Z&&(r=4+(t-e)/(Z-a)),r*=60,0>r&&(r+=360),[r,u,o]},w.hsl=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,o=t.apply(r,e);return Object(o)===o?o:r}(t,Tt.call(arguments).concat(["hsl"]),function(){})},l.hsl=D,t.prototype.hsl=function(){return it(this._rgb)},N=function(){var t,e,n,r,o,a,i,u,f,c,s,l,h,d,p,v,m,g;if(t=At(arguments),o=t[0],v=t[1],g=t[2],g*=255,0===v)f=r=e=g;else switch(360===o&&(o=0),o>360&&(o-=360),0>o&&(o+=360),o/=60,a=L(o),n=o-a,i=g*(1-v),u=g*(1-v*n),m=g*(1-v*(1-n)),a){case 0:c=[g,m,i],f=c[0],r=c[1],e=c[2];break;case 1:s=[u,g,i],f=s[0],r=s[1],e=s[2];break;case 2:l=[i,g,m],f=l[0],r=l[1],e=l[2];break;case 3:h=[i,u,g],f=h[0],r=h[1],e=h[2];break;case 4:d=[m,i,g],f=d[0],r=d[1],e=d[2];break;case 5:p=[g,i,u],f=p[0],r=p[1],e=p[2]}return f=gt(f),r=gt(r),e=gt(e),[f,r,e,t.length>3?t[3]:1]},ut=function(){var t,e,n,r,o,a,i,u,f;return i=At(arguments),a=i[0],n=i[1],t=i[2],o=Math.min(a,n,t),Z=Math.max(a,n,t),e=Z-o,f=Z/255,0===Z?(r=Number.NaN,u=0):(u=e/Z,a===Z&&(r=(n-t)/e),n===Z&&(r=2+(t-a)/e),t===Z&&(r=4+(a-n)/e),r*=60,0>r&&(r+=360)),[r,u,f]},w.hsv=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,o=t.apply(r,e);return Object(o)===o?o:r}(t,Tt.call(arguments).concat(["hsv"]),function(){})},l.hsv=N,t.prototype.hsv=function(){return ut(this._rgb)},$=function(t){var e,n,r;return"number"===xt(t)&&t>=0&&16777215>=t?(r=t>>16,n=t>>8&255,e=255&t,[r,n,e,1]):(console.warn("unknown num color: "+t),[0,0,0,1])},lt=function(){var t,e,n,r;return r=At(arguments),n=r[0],e=r[1],t=r[2],(n<<16)+(e<<8)+t},w.num=function(e){return new t(e,"num")},t.prototype.num=function(t){return null==t&&(t="rgb"),lt(this._rgb,t)},l.num=$,c.push({p:10,test:function(t){return 1===arguments.length&&"number"===xt(t)&&t>=0&&16777215>=t?"num":void 0}}),_=function(t){var e,n,r,o,a,i,u,f;if(t=t.toLowerCase(),null!=w.colors&&w.colors[t])return I(w.colors[t]);if(a=t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(u=a.slice(1,4),o=i=0;2>=i;o=++i)u[o]=+u[o];u[3]=1}else if(a=t.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(u=a.slice(1,5),o=f=0;3>=f;o=++f)u[o]=+u[o];else if(a=t.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(u=a.slice(1,4),o=e=0;2>=e;o=++e)u[o]=gt(2.55*u[o]);u[3]=1}else if(a=t.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(u=a.slice(1,5),o=n=0;2>=n;o=++n)u[o]=gt(2.55*u[o]);u[3]=+u[3]}else(a=t.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(r=a.slice(1,4),r[1]*=.01,r[2]*=.01,u=D(r),u[3]=1):(a=t.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(r=a.slice(1,4),r[1]*=.01,r[2]*=.01,u=D(r),u[3]=+a[4]);return u},rt=function(t){var e;return e=t[3]<1?"rgba":"rgb","rgb"===e?e+"("+t.slice(0,3).map(gt).join(",")+")":"rgba"===e?e+"("+t.slice(0,3).map(gt).join(",")+","+t[3]+")":void 0},vt=function(t){return gt(100*t)/100},B=function(t,e){var n;return n=1>e?"hsla":"hsl",t[0]=vt(t[0]||0),t[1]=vt(100*t[1])+"%",t[2]=vt(100*t[2])+"%","hsla"===n&&(t[3]=e),n+"("+t.join(",")+")"},l.css=function(t){return _(t)},w.css=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,o=t.apply(r,e);return Object(o)===o?o:r}(t,Tt.call(arguments).concat(["css"]),function(){})},t.prototype.css=function(t){return null==t&&(t="rgb"),"rgb"===t.slice(0,3)?rt(this._rgb):"hsl"===t.slice(0,3)?B(this.hsl(),this.alpha()):void 0},l.named=function(t){return I(Et[t])},c.push({p:20,test:function(t){return 1===arguments.length&&null!=Et[t]?"named":void 0}}),t.prototype.name=function(t){var e,n;arguments.length&&(Et[t]&&(this._rgb=I(Et[t])),this._rgb[3]=1),e=this.hex();for(n in Et)if(e===Et[n])return n;return e},X=function(){var t,e,n,o;return o=At(arguments),n=o[0],t=o[1],e=o[2],e*=r,[n,E(e)*t,yt(e)*t]},z=function(){var t,e,n,r,o,a,i,u,f,c,s;return n=At(arguments),u=n[0],o=n[1],i=n[2],c=X(u,o,i),t=c[0],e=c[1],r=c[2],s=Y(t,e,r),f=s[0],a=s[1],r=s[2],[V(f,0,255),V(a,0,255),V(r,0,255),n.length>3?n[3]:1]},C=function(){var t,e,n,r,o,a;return a=At(arguments),o=a[0],t=a[1],e=a[2],n=wt(t*t+e*e),r=(p(e,t)*u+360)%360,0===gt(1e4*n)&&(r=Number.NaN),[o,n,r]},ct=function(){var t,e,n,r,o,a,i;return a=At(arguments),o=a[0],n=a[1],e=a[2],i=ft(o,n,e),r=i[0],t=i[1],e=i[2],C(r,t,e)},w.lch=function(){var e;return e=At(arguments),new t(e,"lch")},w.hcl=function(){var e;return e=At(arguments),new t(e,"hcl")},l.lch=z,l.hcl=function(){var t,e,n,r;return r=At(arguments),e=r[0],t=r[1],n=r[2],z([n,t,e])},t.prototype.lch=function(){return ct(this._rgb)},t.prototype.hcl=function(){return ct(this._rgb).reverse()},nt=function(t){var e,n,r,o,a,i,u,f,c;return null==t&&(t="rgb"),f=At(arguments),u=f[0],o=f[1],e=f[2],u/=255,o/=255,e/=255,a=1-Math.max(u,Math.max(o,e)),r=1>a?1/(1-a):0,n=(1-u-a)*r,i=(1-o-a)*r,c=(1-e-a)*r,[n,i,c,a]},x=function(){var t,e,n,r,o,a,i,u,f;return e=At(arguments),r=e[0],i=e[1],f=e[2],a=e[3],t=e.length>4?e[4]:1,1===a?[0,0,0,t]:(u=r>=1?0:gt(255*(1-r)*(1-a)),o=i>=1?0:gt(255*(1-i)*(1-a)),n=f>=1?0:gt(255*(1-f)*(1-a)),[u,o,n,t])},l.cmyk=function(){return x(At(arguments))},w.cmyk=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,o=t.apply(r,e);return Object(o)===o?o:r}(t,Tt.call(arguments).concat(["cmyk"]),function(){})},t.prototype.cmyk=function(){return nt(this._rgb)},l.gl=function(){var t,e,n,r,o;for(r=function(){var t,n;t=At(arguments),n=[];for(e in t)o=t[e],n.push(o);return n}.apply(this,arguments),t=n=0;2>=n;t=++n)r[t]*=255;return r},w.gl=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,o=t.apply(r,e);return Object(o)===o?o:r}(t,Tt.call(arguments).concat(["gl"]),function(){})},t.prototype.gl=function(){var t;return t=this._rgb,[t[0]/255,t[1]/255,t[2]/255,t[3]]},st=function(t,e,n){var r;return r=At(arguments),t=r[0],e=r[1],n=r[2],t=H(t),e=H(e),n=H(n),.2126*t+.7152*e+.0722*n},H=function(t){return t/=255,.03928>=t?t/12.92:et((t+.055)/1.055,2.4)},h=[],U=function(t,e,n,r){var o,a,i,u;for(null==n&&(n=.5),null==r&&(r="rgb"),"object"!==xt(t)&&(t=w(t)),"object"!==xt(e)&&(e=w(e)),i=0,a=h.length;a>i;i++)if(o=h[i],r===o[0]){u=o[1](t,e,n,r);break}if(null==u)throw"color mode "+r+" is not supported";return u.alpha(t.alpha()+n*(e.alpha()-t.alpha())),u},w.interpolate=U,t.prototype.interpolate=function(t,e,n){return U(this,t,e,n)},w.mix=U,t.prototype.mix=t.prototype.interpolate,P=function(e,n,r,o){var a,i;return a=e._rgb,i=n._rgb,new t(a[0]+r*(i[0]-a[0]),a[1]+r*(i[1]-a[1]),a[2]+r*(i[2]-a[2]),o)},h.push(["rgb",P]),t.prototype.luminance=function(t,e){var n,r,o,a;return null==e&&(e="rgb"),arguments.length?(0===t?this._rgb=[0,0,0,this._rgb[3]]:1===t?this._rgb=[255,255,255,this._rgb[3]]:(r=1e-7,o=20,a=function(n,i){var u,f;return f=n.interpolate(i,.5,e),u=f.luminance(),Math.abs(t-u)<r||!o--?f:u>t?a(n,f):a(f,i)},n=st(this._rgb),this._rgb=(n>t?a(w("black"),this):a(this,w("white"))).rgba()),this):st(this._rgb)},Mt=function(t){var e,n,r,o;return o=t/100,66>o?(r=255,n=-155.25485562709179-.44596950469579133*(n=o-2)+104.49216199393888*W(n),e=20>o?0:-254.76935184120902+.8274096064007395*(e=o-10)+115.67994401066147*W(e)):(r=351.97690566805693+.114206453784165*(r=o-55)-40.25366309332127*W(r),n=325.4494125711974+.07943456536662342*(n=o-50)-28.0852963507957*W(n),e=255),M([r,n,e])},ht=function(){var t,e,n,r,o,a,i,u,f;for(i=At(arguments),a=i[0],n=i[1],t=i[2],o=1e3,r=4e4,e=.4;r-o>e;)f=.5*(r+o),u=Mt(f),u[2]/u[0]>=t/a?r=f:o=f;return gt(f)},w.temperature=w.kelvin=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,o=t.apply(r,e);return Object(o)===o?o:r}(t,Tt.call(arguments).concat(["temperature"]),function(){})},l.temperature=l.kelvin=l.K=Mt,t.prototype.temperature=function(){return ht(this._rgb)},t.prototype.kelvin=t.prototype.temperature,w.contrast=function(e,n){var r,o,a,i;return("string"===(a=xt(e))||"number"===a)&&(e=new t(e)),("string"===(i=xt(n))||"number"===i)&&(n=new t(n)),r=e.luminance(),o=n.luminance(),r>o?(r+.05)/(o+.05):(o+.05)/(r+.05)},t.prototype.get=function(t){var e,n,r,o,a,i;return r=this,a=t.split("."),o=a[0],e=a[1],i=r[o](),e?(n=o.indexOf(e),n>-1?i[n]:console.warn("unknown channel "+e+" in mode "+o)):i},t.prototype.set=function(t,e){var n,r,o,a,i,u;if(o=this,i=t.split("."),a=i[0],n=i[1],n)if(u=o[a](),r=a.indexOf(n),r>-1)if("string"===xt(e))switch(e.charAt(0)){case"+":u[r]+=+e;break;case"-":u[r]+=+e;break;case"*":u[r]*=+e.substr(1);break;case"/":u[r]/=+e.substr(1);break;default:u[r]=+e}else u[r]=e;else console.warn("unknown channel "+n+" in mode "+a);else u=e;return o._rgb=w(u,a).alpha(o.alpha())._rgb,o},t.prototype.darken=function(t){var e,n;return null==t&&(t=1),n=this,e=n.lab(),e[0]-=o.Kn*t,w.lab(e).alpha(n.alpha())},t.prototype.brighten=function(t){return null==t&&(t=1),this.darken(-t)},t.prototype.darker=t.prototype.darken,t.prototype.brighter=t.prototype.brighten,t.prototype.saturate=function(t){var e,n;return null==t&&(t=1),n=this,e=n.lch(),e[1]+=t*o.Kn,e[1]<0&&(e[1]=0),w.lch(e).alpha(n.alpha())},t.prototype.desaturate=function(t){return null==t&&(t=1),this.saturate(-t)},t.prototype.premultiply=function(){var t,e;return e=this.rgb(),t=this.alpha(),w(e[0]*t,e[1]*t,e[2]*t,t)},m=function(t,e,n){if(!m[n])throw"unknown blend mode "+n;return m[n](t,e)},g=function(t){return function(e,n){var r,o;return r=w(n).rgb(),o=w(e).rgb(),w(t(r,o),"rgb")}},k=function(t){return function(e,n){var r,o,a;for(a=[],r=o=0;3>=o;r=++o)a[r]=t(e[r],n[r]);return a}},J=function(t,e){return t},Q=function(t,e){return t*e/255},R=function(t,e){return t>e?e:t},G=function(t,e){return t>e?t:e},bt=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},tt=function(t,e){return 128>e?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},y=function(t,e){return 255*(1-(1-e/255)/(t/255))},T=function(t,e){return 255===t?255:(t=255*(e/255)/(1-t/255),t>255?255:t)},m.normal=g(k(J)),m.multiply=g(k(Q)),m.screen=g(k(bt)),m.overlay=g(k(tt)),m.darken=g(k(R)),m.lighten=g(k(G)),m.dodge=g(k(T)),m.burn=g(k(y)),w.blend=m,w.analyze=function(t){var e,n,r,o;for(r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,e=t.length;e>n;n++)o=t[n],null==o||isNaN(o)||(r.values.push(o),r.sum+=o,o<r.min&&(r.min=o),o>r.max&&(r.max=o),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(t,e){return w.limits(r,t,e)},r},w.scale=function(t,e){var n,r,o,a,i,u,f,c,s,l,h,d,p,v,m,g,b,y,M,x,A;return s="rgb",l=w("#ccc"),v=0,u=!1,i=[0,1],p=[],d=[0,0],n=!1,o=[],h=!1,c=0,f=1,a=!1,r={},x=function(t){var e,n,r,a,i,u,f;if(null==t&&(t=["#fff","#000"]),null!=t&&"string"===xt(t)&&null!=(null!=(a=w.brewer)?a[t]:void 0)&&(t=w.brewer[t]),"array"===xt(t)){for(t=t.slice(0),e=r=0,i=t.length-1;i>=0?i>=r:r>=i;e=i>=0?++r:--r)n=t[e],"string"===xt(n)&&(t[e]=w(n));for(p.length=0,e=f=0,u=t.length-1;u>=0?u>=f:f>=u;e=u>=0?++f:--f)p.push(e/(t.length-1))}return M(),o=t},b=function(t){var e,r;if(null!=n){for(r=n.length-1,e=0;r>e&&t>=n[e];)e++;return e-1}return 0},A=function(t){return t},m=function(t){var e,r,o,a,i;return i=t,n.length>2&&(a=n.length-1,e=b(t),o=n[0]+(n[1]-n[0])*(0+.5*v),r=n[a-1]+(n[a]-n[a-1])*(1-.5*v),i=c+(n[e]+.5*(n[e+1]-n[e])-o)/(r-o)*(f-c)),i},y=function(t,e){var a,i,u,h,v,m,g,y;if(null==e&&(e=!1),isNaN(t))return l;if(e?y=t:n&&n.length>2?(a=b(t),y=a/(n.length-2),y=d[0]+y*(1-d[0]-d[1])):f!==c?(y=(t-c)/(f-c),y=d[0]+y*(1-d[0]-d[1]),y=Math.min(1,Math.max(0,y))):y=1,e||(y=A(y)),h=Math.floor(1e4*y),r[h])i=r[h];else{if("array"===xt(o))for(u=v=0,g=p.length-1;g>=0?g>=v:v>=g;u=g>=0?++v:--v){if(m=p[u],m>=y){i=o[u];break}if(y>=m&&u===p.length-1){i=o[u];break}if(y>m&&y<p[u+1]){y=(y-m)/(p[u+1]-m),i=w.interpolate(o[u],o[u+1],y,s);break}}else"function"===xt(o)&&(i=o(y));r[h]=i}return i},M=function(){return r={}},x(t),g=function(t){var e;return e=w(y(t)),h&&e[h]?e[h]():e},g.classes=function(t){var e;return null!=t?("array"===xt(t)?(n=t,i=[t[0],t[t.length-1]]):(e=w.analyze(i),n=0===t?[e.min,e.max]:w.limits(e,"e",t)),g):n},g.domain=function(t){var e,n,r,a,u,s,l;if(!arguments.length)return i;if(c=t[0],f=t[t.length-1],p=[],r=o.length,t.length===r&&c!==f)for(u=0,a=t.length;a>u;u++)n=t[u],p.push((n-c)/(f-c));else for(e=l=0,s=r-1;s>=0?s>=l:l>=s;e=s>=0?++l:--l)p.push(e/(r-1));return i=[c,f],g},g.mode=function(t){return arguments.length?(s=t,M(),g):s},g.range=function(t,e){return x(t,e),g},g.out=function(t){return h=t,g},g.spread=function(t){return arguments.length?(v=t,g):v},g.correctLightness=function(t){return null==t&&(t=!0),a=t,M(),A=a?function(t){var e,n,r,o,a,i,u,f,c;for(e=y(0,!0).lab()[0],n=y(1,!0).lab()[0],u=e>n,r=y(t,!0).lab()[0],a=e+(n-e)*t,o=r-a,f=0,c=1,i=20;Math.abs(o)>.01&&i-- >0;)!function(){return u&&(o*=-1),0>o?(f=t,t+=.5*(c-t)):(c=t,t+=.5*(f-t)),r=y(t,!0).lab()[0],o=r-a}();return t}:function(t){return t},g},g.padding=function(t){return null!=t?("number"===xt(t)&&(t=[t,t]),d=t,g):d},g.colors=function(){var e,r,o,a,u,f,c,s,l;if(a=0,u="hex",1===arguments.length&&("string"===xt(arguments[0])?u=arguments[0]:a=arguments[0]),2===arguments.length&&(a=arguments[0],u=arguments[1]),a)return r=i[0],e=i[1]-r,function(){c=[];for(var t=0;a>=0?a>t:t>a;a>=0?t++:t--)c.push(t);return c}.apply(this).map(function(t){return g(r+t/(a-1)*e)[u]()});if(t=[],s=[],n&&n.length>2)for(o=l=1,f=n.length;f>=1?f>l:l>f;o=f>=1?++l:--l)s.push(.5*(n[o-1]+n[o]));else s=i;return s.map(function(t){return g(t)[u]()})},g},null==w.scales&&(w.scales={}),w.scales.cool=function(){return w.scale([w.hsl(180,1,.9),w.hsl(250,.7,.4)])},w.scales.hot=function(){return w.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},w.analyze=function(t,e,n){var r,o,a,i,u,f,c;if(u={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(t){null==t||isNaN(t)||(u.values.push(t),u.sum+=t,t<u.min&&(u.min=t),t>u.max&&(u.max=t),u.count+=1)},c=function(t,o){return n(t,o)?r(null!=e&&"function"===xt(e)?e(t):null!=e&&"string"===xt(e)||"number"===xt(e)?t[e]:t):void 0},"array"===xt(t))for(i=0,a=t.length;a>i;i++)f=t[i],c(f);else for(o in t)f=t[o],c(f,o);return u.domain=[u.min,u.max],u.limits=function(t,e){return w.limits(u,t,e)},u},w.limits=function(t,e,n){var r,o,a,i,u,f,c,s,l,h,p,v,m,g,b,y,M,x,A,E,_,R,T,k,I,j,B,D,N,U,q,S,F,P,C,Y,O,X,z,G,V,H,K,Q,J,$,tt,nt,rt,ot,at,it,ut,ft,ct;if(null==e&&(e="equal"),null==n&&(n=7),"array"===xt(t)&&(t=w.analyze(t)),I=t.min,Z=t.max,at=t.sum,ft=t.values.sort(function(t,e){return t-e}),T=[],"c"===e.substr(0,1)&&(T.push(I),T.push(Z)),"e"===e.substr(0,1)){for(T.push(I),E=q=1,C=n-1;C>=1?C>=q:q>=C;E=C>=1?++q:--q)T.push(I+E/n*(Z-I));T.push(Z)}else if("l"===e.substr(0,1)){if(0>=I)throw"Logarithmic scales are only possible for values > 0";for(j=Math.LOG10E*W(I),k=Math.LOG10E*W(Z),T.push(I),E=ct=1,Y=n-1;Y>=1?Y>=ct:ct>=Y;E=Y>=1?++ct:--ct)T.push(et(10,j+E/n*(k-j)));T.push(Z)}else if("q"===e.substr(0,1)){for(T.push(I),E=r=1,H=n-1;H>=1?H>=r:r>=H;E=H>=1?++r:--r)S=ft.length*E/n,F=L(S),F===S?T.push(ft[F]):(P=S-F,T.push(ft[F]*P+ft[F+1]*(1-P)));T.push(Z)}else if("k"===e.substr(0,1)){for(D=ft.length,g=new Array(D),x=new Array(n),ot=!0,N=0,y=null,y=[],y.push(I),E=o=1,K=n-1;K>=1?K>=o:o>=K;E=K>=1?++o:--o)y.push(I+E/n*(Z-I));for(y.push(Z);ot;){for(_=a=0,Q=n-1;Q>=0?Q>=a:a>=Q;_=Q>=0?++a:--a)x[_]=0;for(E=i=0,J=D-1;J>=0?J>=i:i>=J;E=J>=0?++i:--i){for(ut=ft[E],B=Number.MAX_VALUE,_=u=0,$=n-1;$>=0?$>=u:u>=$;_=$>=0?++u:--u)A=d(y[_]-ut),B>A&&(B=A,b=_);x[b]++,g[E]=b}for(U=new Array(n),_=f=0,tt=n-1;tt>=0?tt>=f:f>=tt;_=tt>=0?++f:--f)U[_]=null;for(E=c=0,nt=D-1;nt>=0?nt>=c:c>=nt;E=nt>=0?++c:--c)M=g[E],null===U[M]?U[M]=ft[E]:U[M]+=ft[E];for(_=s=0,rt=n-1;rt>=0?rt>=s:s>=rt;_=rt>=0?++s:--s)U[_]*=1/x[_];for(ot=!1,_=l=0,O=n-1;O>=0?O>=l:l>=O;_=O>=0?++l:--l)if(U[_]!==y[E]){ot=!0;break}y=U,N++,N>200&&(ot=!1)}for(R={},_=h=0,X=n-1;X>=0?X>=h:h>=X;_=X>=0?++h:--h)R[_]=[];for(E=p=0,z=D-1;z>=0?z>=p:p>=z;E=z>=0?++p:--p)M=g[E],R[M].push(ft[E]);for(it=[],_=v=0,G=n-1;G>=0?G>=v:v>=G;_=G>=0?++v:--v)it.push(R[_][0]),it.push(R[_][R[_].length-1]);for(it=it.sort(function(t,e){return t-e}),T.push(it[0]),E=m=1,V=it.length-1;V>=m;E=m+=2)isNaN(it[E])||T.push(it[E])}return T},j=function(t,e,n){var r,o,a,u;return r=At(arguments),t=r[0],e=r[1],n=r[2],t/=360,1/3>t?(o=(1-e)/3,u=(1+e*E(f*t)/E(i-f*t))/3,a=1-(o+u)):2/3>t?(t-=1/3,u=(1-e)/3,a=(1+e*E(f*t)/E(i-f*t))/3,o=1-(u+a)):(t-=2/3,a=(1-e)/3,o=(1+e*E(f*t)/E(i-f*t))/3,u=1-(a+o)),u=V(n*u*3),a=V(n*a*3),o=V(n*o*3),[255*u,255*a,255*o,r.length>3?r[3]:1]},at=function(){var t,e,n,r,o,a,i,u;return i=At(arguments),a=i[0],e=i[1],t=i[2],f=2*Math.PI,a/=255,e/=255,t/=255,o=Math.min(a,e,t),r=(a+e+t)/3,u=1-o/r,0===u?n=0:(n=(a-e+(a-t))/2,n/=Math.sqrt((a-e)*(a-e)+(a-t)*(e-t)),n=Math.acos(n),t>e&&(n=f-n),n/=f),[360*n,u,r]},w.hsi=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,o=t.apply(r,e);return Object(o)===o?o:r}(t,Tt.call(arguments).concat(["hsi"]),function(){})},l.hsi=j,t.prototype.hsi=function(){return at(this._rgb)},q=function(t,e,n,r){var o,a,i,u,f,c,s,l,h,d,p,v,m;return"hsl"===r?(v=t.hsl(),m=e.hsl()):"hsv"===r?(v=t.hsv(),m=e.hsv()):"hsi"===r?(v=t.hsi(),m=e.hsi()):("lch"===r||"hcl"===r)&&(r="hcl",v=t.hcl(),m=e.hcl()),"h"===r.substr(0,1)&&(i=v[0],d=v[1],c=v[2],u=m[0],p=m[1],s=m[2]),isNaN(i)||isNaN(u)?isNaN(i)?isNaN(u)?a=Number.NaN:(a=u,1!==c&&0!==c||"hsv"===r||(h=p)):(a=i,1!==s&&0!==s||"hsv"===r||(h=d)):(o=u>i&&u-i>180?u-(i+360):i>u&&i-u>180?u+360-i:u-i,a=i+n*o),null==h&&(h=d+n*(p-d)),f=c+n*(s-c),l=w[r](a,h,f)},h=h.concat(function(){var t,e,n,r;for(n=["hsv","hsl","hsi","hcl","lch"],r=[],e=0,t=n.length;t>e;e++)K=n[e],r.push([K,q]);return r}()),F=function(t,e,n,r){var o,a;return o=t.num(),a=e.num(),w.num(o+(a-o)*n,"num")},h.push(["num",F]),S=function(e,n,r,o){var a,i,u;return i=e.lab(),u=n.lab(),a=new t(i[0]+r*(u[0]-i[0]),i[1]+r*(u[1]-i[1]),i[2]+r*(u[2]-i[2]),o)},h.push(["lab",S])}).call(this)},{}],3:[function(t,e,n){n.glMatrix=t("./gl-matrix/common.js"),n.mat2=t("./gl-matrix/mat2.js"),n.mat2d=t("./gl-matrix/mat2d.js"),n.mat3=t("./gl-matrix/mat3.js"),n.mat4=t("./gl-matrix/mat4.js"),n.quat=t("./gl-matrix/quat.js"),n.vec2=t("./gl-matrix/vec2.js"),n.vec3=t("./gl-matrix/vec3.js"),n.vec4=t("./gl-matrix/vec4.js")},{"./gl-matrix/common.js":4,"./gl-matrix/mat2.js":5,"./gl-matrix/mat2d.js":6,"./gl-matrix/mat3.js":7,"./gl-matrix/mat4.js":8,"./gl-matrix/quat.js":9,"./gl-matrix/vec2.js":10,"./gl-matrix/vec3.js":11,"./gl-matrix/vec4.js":12}],4:[function(t,e,n){var r={};r.EPSILON=1e-6,r.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,r.RANDOM=Math.random,r.setMatrixArrayType=function(t){GLMAT_ARRAY_TYPE=t};var o=Math.PI/180;r.toRadian=function(t){return t*o},e.exports=r},{}],5:[function(t,e,n){var r=t("./common.js"),o={};o.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},o.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},o.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},o.invert=function(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=n*a-o*r;return i?(i=1/i,t[0]=a*i,t[1]=-r*i,t[2]=-o*i,t[3]=n*i,t):null},o.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},o.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},o.multiply=function(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],u=n[0],f=n[1],c=n[2],s=n[3];return t[0]=r*u+a*f,t[1]=o*u+i*f,t[2]=r*c+a*s,t[3]=o*c+i*s,t},o.mul=o.multiply,o.rotate=function(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],u=Math.sin(n),f=Math.cos(n);return t[0]=r*f+a*u,t[1]=o*f+i*u,t[2]=r*-u+a*f,t[3]=o*-u+i*f,t},o.scale=function(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],u=n[0],f=n[1];return t[0]=r*u,t[1]=o*u,t[2]=a*f,t[3]=i*f,t},o.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},o.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},o.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},e.exports=o},{"./common.js":4}],6:[function(t,e,n){var r=t("./common.js"),o={};o.create=function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},o.clone=function(t){var e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},o.invert=function(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=e[4],u=e[5],f=n*a-r*o;return f?(f=1/f,t[0]=a*f,t[1]=-r*f,t[2]=-o*f,t[3]=n*f,t[4]=(o*u-a*i)*f,t[5]=(r*i-n*u)*f,t):null},o.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},o.multiply=function(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],u=e[4],f=e[5],c=n[0],s=n[1],l=n[2],h=n[3],d=n[4],p=n[5];return t[0]=r*c+a*s,t[1]=o*c+i*s,t[2]=r*l+a*h,t[3]=o*l+i*h,t[4]=r*d+a*p+u,t[5]=o*d+i*p+f,t},o.mul=o.multiply,o.rotate=function(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],u=e[4],f=e[5],c=Math.sin(n),s=Math.cos(n);return t[0]=r*s+a*c,t[1]=o*s+i*c,t[2]=r*-c+a*s,t[3]=o*-c+i*s,t[4]=u,t[5]=f,t},o.scale=function(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],u=e[4],f=e[5],c=n[0],s=n[1];return t[0]=r*c,t[1]=o*c,t[2]=a*s,t[3]=i*s,t[4]=u,t[5]=f,t},o.translate=function(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],u=e[4],f=e[5],c=n[0],s=n[1];return t[0]=r,t[1]=o,t[2]=a,t[3]=i,t[4]=r*c+a*s+u,t[5]=o*c+i*s+f,t},o.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},o.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},o.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},e.exports=o},{"./common.js":4}],7:[function(t,e,n){var r=t("./common.js"),o={};o.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},o.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},o.invert=function(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=e[4],u=e[5],f=e[6],c=e[7],s=e[8],l=s*i-u*c,h=-s*a+u*f,d=c*a-i*f,p=n*l+r*h+o*d;return p?(p=1/p,t[0]=l*p,t[1]=(-s*r+o*c)*p,t[2]=(u*r-o*i)*p,t[3]=h*p,t[4]=(s*n-o*f)*p,t[5]=(-u*n+o*a)*p,t[6]=d*p,t[7]=(-c*n+r*f)*p,t[8]=(i*n-r*a)*p,t):null},o.adjoint=function(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=e[4],u=e[5],f=e[6],c=e[7],s=e[8];return t[0]=i*s-u*c,t[1]=o*c-r*s,t[2]=r*u-o*i,t[3]=u*f-a*s,t[4]=n*s-o*f,t[5]=o*a-n*u,t[6]=a*c-i*f,t[7]=r*f-n*c,t[8]=n*i-r*a,t},o.determinant=function(t){var e=t[0],n=t[1],r=t[2],o=t[3],a=t[4],i=t[5],u=t[6],f=t[7],c=t[8];return e*(c*a-i*f)+n*(-c*o+i*u)+r*(f*o-a*u)},o.multiply=function(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],u=e[4],f=e[5],c=e[6],s=e[7],l=e[8],h=n[0],d=n[1],p=n[2],v=n[3],m=n[4],g=n[5],b=n[6],y=n[7],w=n[8];return t[0]=h*r+d*i+p*c,t[1]=h*o+d*u+p*s,t[2]=h*a+d*f+p*l,t[3]=v*r+m*i+g*c,t[4]=v*o+m*u+g*s,t[5]=v*a+m*f+g*l,t[6]=b*r+y*i+w*c,t[7]=b*o+y*u+w*s,t[8]=b*a+y*f+w*l,t},o.mul=o.multiply,o.translate=function(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],u=e[4],f=e[5],c=e[6],s=e[7],l=e[8],h=n[0],d=n[1];return t[0]=r,t[1]=o,t[2]=a,t[3]=i,t[4]=u,t[5]=f,t[6]=h*r+d*i+c,t[7]=h*o+d*u+s,t[8]=h*a+d*f+l,t},o.rotate=function(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],u=e[4],f=e[5],c=e[6],s=e[7],l=e[8],h=Math.sin(n),d=Math.cos(n);return t[0]=d*r+h*i,t[1]=d*o+h*u,t[2]=d*a+h*f,t[3]=d*i-h*r,t[4]=d*u-h*o,t[5]=d*f-h*a,t[6]=c,t[7]=s,t[8]=l,t},o.scale=function(t,e,n){var r=n[0],o=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},o.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},o.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},o.fromQuat=function(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=n+n,u=r+r,f=o+o,c=n*i,s=r*i,l=r*u,h=o*i,d=o*u,p=o*f,v=a*i,m=a*u,g=a*f;return t[0]=1-l-p,t[3]=s-g,t[6]=h+m,t[1]=s+g,t[4]=1-c-p,t[7]=d-v,t[2]=h-m,t[5]=d+v,t[8]=1-c-l,t},o.normalFromMat4=function(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=e[4],u=e[5],f=e[6],c=e[7],s=e[8],l=e[9],h=e[10],d=e[11],p=e[12],v=e[13],m=e[14],g=e[15],b=n*u-r*i,y=n*f-o*i,w=n*c-a*i,M=r*f-o*u,x=r*c-a*u,A=o*c-a*f,E=s*v-l*p,_=s*m-h*p,R=s*g-d*p,T=l*m-h*v,k=l*g-d*v,L=h*g-d*m,I=b*L-y*k+w*T+M*R-x*_+A*E;return I?(I=1/I,t[0]=(u*L-f*k+c*T)*I,t[1]=(f*R-i*L-c*_)*I,t[2]=(i*k-u*R+c*E)*I,t[3]=(o*k-r*L-a*T)*I,t[4]=(n*L-o*R+a*_)*I,t[5]=(r*R-n*k-a*E)*I,t[6]=(v*A-m*x+g*M)*I,t[7]=(m*w-p*A-g*y)*I,t[8]=(p*x-v*w+g*b)*I,t):null},o.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2));
},e.exports=o},{"./common.js":4}],8:[function(t,e,n){var r=t("./common.js"),o={};o.create=function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.clone=function(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},o.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],o=e[3],a=e[6],i=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=o,t[13]=i,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},o.invert=function(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=e[4],u=e[5],f=e[6],c=e[7],s=e[8],l=e[9],h=e[10],d=e[11],p=e[12],v=e[13],m=e[14],g=e[15],b=n*u-r*i,y=n*f-o*i,w=n*c-a*i,M=r*f-o*u,x=r*c-a*u,A=o*c-a*f,E=s*v-l*p,_=s*m-h*p,R=s*g-d*p,T=l*m-h*v,k=l*g-d*v,L=h*g-d*m,I=b*L-y*k+w*T+M*R-x*_+A*E;return I?(I=1/I,t[0]=(u*L-f*k+c*T)*I,t[1]=(o*k-r*L-a*T)*I,t[2]=(v*A-m*x+g*M)*I,t[3]=(h*x-l*A-d*M)*I,t[4]=(f*R-i*L-c*_)*I,t[5]=(n*L-o*R+a*_)*I,t[6]=(m*w-p*A-g*y)*I,t[7]=(s*A-h*w+d*y)*I,t[8]=(i*k-u*R+c*E)*I,t[9]=(r*R-n*k-a*E)*I,t[10]=(p*x-v*w+g*b)*I,t[11]=(l*w-s*x-d*b)*I,t[12]=(u*_-i*T-f*E)*I,t[13]=(n*T-r*_+o*E)*I,t[14]=(v*y-p*M-m*b)*I,t[15]=(s*M-l*y+h*b)*I,t):null},o.adjoint=function(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=e[4],u=e[5],f=e[6],c=e[7],s=e[8],l=e[9],h=e[10],d=e[11],p=e[12],v=e[13],m=e[14],g=e[15];return t[0]=u*(h*g-d*m)-l*(f*g-c*m)+v*(f*d-c*h),t[1]=-(r*(h*g-d*m)-l*(o*g-a*m)+v*(o*d-a*h)),t[2]=r*(f*g-c*m)-u*(o*g-a*m)+v*(o*c-a*f),t[3]=-(r*(f*d-c*h)-u*(o*d-a*h)+l*(o*c-a*f)),t[4]=-(i*(h*g-d*m)-s*(f*g-c*m)+p*(f*d-c*h)),t[5]=n*(h*g-d*m)-s*(o*g-a*m)+p*(o*d-a*h),t[6]=-(n*(f*g-c*m)-i*(o*g-a*m)+p*(o*c-a*f)),t[7]=n*(f*d-c*h)-i*(o*d-a*h)+s*(o*c-a*f),t[8]=i*(l*g-d*v)-s*(u*g-c*v)+p*(u*d-c*l),t[9]=-(n*(l*g-d*v)-s*(r*g-a*v)+p*(r*d-a*l)),t[10]=n*(u*g-c*v)-i*(r*g-a*v)+p*(r*c-a*u),t[11]=-(n*(u*d-c*l)-i*(r*d-a*l)+s*(r*c-a*u)),t[12]=-(i*(l*m-h*v)-s*(u*m-f*v)+p*(u*h-f*l)),t[13]=n*(l*m-h*v)-s*(r*m-o*v)+p*(r*h-o*l),t[14]=-(n*(u*m-f*v)-i*(r*m-o*v)+p*(r*f-o*u)),t[15]=n*(u*h-f*l)-i*(r*h-o*l)+s*(r*f-o*u),t},o.determinant=function(t){var e=t[0],n=t[1],r=t[2],o=t[3],a=t[4],i=t[5],u=t[6],f=t[7],c=t[8],s=t[9],l=t[10],h=t[11],d=t[12],p=t[13],v=t[14],m=t[15],g=e*i-n*a,b=e*u-r*a,y=e*f-o*a,w=n*u-r*i,M=n*f-o*i,x=r*f-o*u,A=c*p-s*d,E=c*v-l*d,_=c*m-h*d,R=s*v-l*p,T=s*m-h*p,k=l*m-h*v;return g*k-b*T+y*R+w*_-M*E+x*A},o.multiply=function(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],u=e[4],f=e[5],c=e[6],s=e[7],l=e[8],h=e[9],d=e[10],p=e[11],v=e[12],m=e[13],g=e[14],b=e[15],y=n[0],w=n[1],M=n[2],x=n[3];return t[0]=y*r+w*u+M*l+x*v,t[1]=y*o+w*f+M*h+x*m,t[2]=y*a+w*c+M*d+x*g,t[3]=y*i+w*s+M*p+x*b,y=n[4],w=n[5],M=n[6],x=n[7],t[4]=y*r+w*u+M*l+x*v,t[5]=y*o+w*f+M*h+x*m,t[6]=y*a+w*c+M*d+x*g,t[7]=y*i+w*s+M*p+x*b,y=n[8],w=n[9],M=n[10],x=n[11],t[8]=y*r+w*u+M*l+x*v,t[9]=y*o+w*f+M*h+x*m,t[10]=y*a+w*c+M*d+x*g,t[11]=y*i+w*s+M*p+x*b,y=n[12],w=n[13],M=n[14],x=n[15],t[12]=y*r+w*u+M*l+x*v,t[13]=y*o+w*f+M*h+x*m,t[14]=y*a+w*c+M*d+x*g,t[15]=y*i+w*s+M*p+x*b,t},o.mul=o.multiply,o.translate=function(t,e,n){var r,o,a,i,u,f,c,s,l,h,d,p,v=n[0],m=n[1],g=n[2];return e===t?(t[12]=e[0]*v+e[4]*m+e[8]*g+e[12],t[13]=e[1]*v+e[5]*m+e[9]*g+e[13],t[14]=e[2]*v+e[6]*m+e[10]*g+e[14],t[15]=e[3]*v+e[7]*m+e[11]*g+e[15]):(r=e[0],o=e[1],a=e[2],i=e[3],u=e[4],f=e[5],c=e[6],s=e[7],l=e[8],h=e[9],d=e[10],p=e[11],t[0]=r,t[1]=o,t[2]=a,t[3]=i,t[4]=u,t[5]=f,t[6]=c,t[7]=s,t[8]=l,t[9]=h,t[10]=d,t[11]=p,t[12]=r*v+u*m+l*g+e[12],t[13]=o*v+f*m+h*g+e[13],t[14]=a*v+c*m+d*g+e[14],t[15]=i*v+s*m+p*g+e[15]),t},o.scale=function(t,e,n){var r=n[0],o=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},o.rotate=function(t,e,n,o){var a,i,u,f,c,s,l,h,d,p,v,m,g,b,y,w,M,x,A,E,_,R,T,k,L=o[0],I=o[1],j=o[2],B=Math.sqrt(L*L+I*I+j*j);return Math.abs(B)<r.EPSILON?null:(B=1/B,L*=B,I*=B,j*=B,a=Math.sin(n),i=Math.cos(n),u=1-i,f=e[0],c=e[1],s=e[2],l=e[3],h=e[4],d=e[5],p=e[6],v=e[7],m=e[8],g=e[9],b=e[10],y=e[11],w=L*L*u+i,M=I*L*u+j*a,x=j*L*u-I*a,A=L*I*u-j*a,E=I*I*u+i,_=j*I*u+L*a,R=L*j*u+I*a,T=I*j*u-L*a,k=j*j*u+i,t[0]=f*w+h*M+m*x,t[1]=c*w+d*M+g*x,t[2]=s*w+p*M+b*x,t[3]=l*w+v*M+y*x,t[4]=f*A+h*E+m*_,t[5]=c*A+d*E+g*_,t[6]=s*A+p*E+b*_,t[7]=l*A+v*E+y*_,t[8]=f*R+h*T+m*k,t[9]=c*R+d*T+g*k,t[10]=s*R+p*T+b*k,t[11]=l*R+v*T+y*k,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},o.rotateX=function(t,e,n){var r=Math.sin(n),o=Math.cos(n),a=e[4],i=e[5],u=e[6],f=e[7],c=e[8],s=e[9],l=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*o+c*r,t[5]=i*o+s*r,t[6]=u*o+l*r,t[7]=f*o+h*r,t[8]=c*o-a*r,t[9]=s*o-i*r,t[10]=l*o-u*r,t[11]=h*o-f*r,t},o.rotateY=function(t,e,n){var r=Math.sin(n),o=Math.cos(n),a=e[0],i=e[1],u=e[2],f=e[3],c=e[8],s=e[9],l=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*o-c*r,t[1]=i*o-s*r,t[2]=u*o-l*r,t[3]=f*o-h*r,t[8]=a*r+c*o,t[9]=i*r+s*o,t[10]=u*r+l*o,t[11]=f*r+h*o,t},o.rotateZ=function(t,e,n){var r=Math.sin(n),o=Math.cos(n),a=e[0],i=e[1],u=e[2],f=e[3],c=e[4],s=e[5],l=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*o+c*r,t[1]=i*o+s*r,t[2]=u*o+l*r,t[3]=f*o+h*r,t[4]=c*o-a*r,t[5]=s*o-i*r,t[6]=l*o-u*r,t[7]=h*o-f*r,t},o.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromRotation=function(t,e,n){var o,a,i,u=n[0],f=n[1],c=n[2],s=Math.sqrt(u*u+f*f+c*c);return Math.abs(s)<r.EPSILON?null:(s=1/s,u*=s,f*=s,c*=s,o=Math.sin(e),a=Math.cos(e),i=1-a,t[0]=u*u*i+a,t[1]=f*u*i+c*o,t[2]=c*u*i-f*o,t[3]=0,t[4]=u*f*i-c*o,t[5]=f*f*i+a,t[6]=c*f*i+u*o,t[7]=0,t[8]=u*c*i+f*o,t[9]=f*c*i-u*o,t[10]=c*c*i+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},o.fromXRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromYRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromZRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromRotationTranslation=function(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],u=r+r,f=o+o,c=a+a,s=r*u,l=r*f,h=r*c,d=o*f,p=o*c,v=a*c,m=i*u,g=i*f,b=i*c;return t[0]=1-(d+v),t[1]=l+b,t[2]=h-g,t[3]=0,t[4]=l-b,t[5]=1-(s+v),t[6]=p+m,t[7]=0,t[8]=h+g,t[9]=p-m,t[10]=1-(s+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},o.fromRotationTranslationScale=function(t,e,n,r){var o=e[0],a=e[1],i=e[2],u=e[3],f=o+o,c=a+a,s=i+i,l=o*f,h=o*c,d=o*s,p=a*c,v=a*s,m=i*s,g=u*f,b=u*c,y=u*s,w=r[0],M=r[1],x=r[2];return t[0]=(1-(p+m))*w,t[1]=(h+y)*w,t[2]=(d-b)*w,t[3]=0,t[4]=(h-y)*M,t[5]=(1-(l+m))*M,t[6]=(v+g)*M,t[7]=0,t[8]=(d+b)*x,t[9]=(v-g)*x,t[10]=(1-(l+p))*x,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},o.fromRotationTranslationScaleOrigin=function(t,e,n,r,o){var a=e[0],i=e[1],u=e[2],f=e[3],c=a+a,s=i+i,l=u+u,h=a*c,d=a*s,p=a*l,v=i*s,m=i*l,g=u*l,b=f*c,y=f*s,w=f*l,M=r[0],x=r[1],A=r[2],E=o[0],_=o[1],R=o[2];return t[0]=(1-(v+g))*M,t[1]=(d+w)*M,t[2]=(p-y)*M,t[3]=0,t[4]=(d-w)*x,t[5]=(1-(h+g))*x,t[6]=(m+b)*x,t[7]=0,t[8]=(p+y)*A,t[9]=(m-b)*A,t[10]=(1-(h+v))*A,t[11]=0,t[12]=n[0]+E-(t[0]*E+t[4]*_+t[8]*R),t[13]=n[1]+_-(t[1]*E+t[5]*_+t[9]*R),t[14]=n[2]+R-(t[2]*E+t[6]*_+t[10]*R),t[15]=1,t},o.fromQuat=function(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=n+n,u=r+r,f=o+o,c=n*i,s=r*i,l=r*u,h=o*i,d=o*u,p=o*f,v=a*i,m=a*u,g=a*f;return t[0]=1-l-p,t[1]=s+g,t[2]=h-m,t[3]=0,t[4]=s-g,t[5]=1-c-p,t[6]=d+v,t[7]=0,t[8]=h+m,t[9]=d-v,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.frustum=function(t,e,n,r,o,a,i){var u=1/(n-e),f=1/(o-r),c=1/(a-i);return t[0]=2*a*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*f,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(o+r)*f,t[10]=(i+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*a*2*c,t[15]=0,t},o.perspective=function(t,e,n,r,o){var a=1/Math.tan(e/2),i=1/(r-o);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+r)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*r*i,t[15]=0,t},o.perspectiveFromFieldOfView=function(t,e,n,r){var o=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),i=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),f=2/(i+u),c=2/(o+a);return t[0]=f,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-((i-u)*f*.5),t[9]=(o-a)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},o.ortho=function(t,e,n,r,o,a,i){var u=1/(e-n),f=1/(r-o),c=1/(a-i);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*u,t[13]=(o+r)*f,t[14]=(i+a)*c,t[15]=1,t},o.lookAt=function(t,e,n,a){var i,u,f,c,s,l,h,d,p,v,m=e[0],g=e[1],b=e[2],y=a[0],w=a[1],M=a[2],x=n[0],A=n[1],E=n[2];return Math.abs(m-x)<r.EPSILON&&Math.abs(g-A)<r.EPSILON&&Math.abs(b-E)<r.EPSILON?o.identity(t):(h=m-x,d=g-A,p=b-E,v=1/Math.sqrt(h*h+d*d+p*p),h*=v,d*=v,p*=v,i=w*p-M*d,u=M*h-y*p,f=y*d-w*h,v=Math.sqrt(i*i+u*u+f*f),v?(v=1/v,i*=v,u*=v,f*=v):(i=0,u=0,f=0),c=d*f-p*u,s=p*i-h*f,l=h*u-d*i,v=Math.sqrt(c*c+s*s+l*l),v?(v=1/v,c*=v,s*=v,l*=v):(c=0,s=0,l=0),t[0]=i,t[1]=c,t[2]=h,t[3]=0,t[4]=u,t[5]=s,t[6]=d,t[7]=0,t[8]=f,t[9]=l,t[10]=p,t[11]=0,t[12]=-(i*m+u*g+f*b),t[13]=-(c*m+s*g+l*b),t[14]=-(h*m+d*g+p*b),t[15]=1,t)},o.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e.exports=o},{"./common.js":4}],9:[function(t,e,n){var r=t("./common.js"),o=t("./mat3.js"),a=t("./vec3.js"),i=t("./vec4.js"),u={};u.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},u.rotationTo=function(){var t=a.create(),e=a.fromValues(1,0,0),n=a.fromValues(0,1,0);return function(r,o,i){var f=a.dot(o,i);return-.999999>f?(a.cross(t,e,o),a.length(t)<1e-6&&a.cross(t,n,o),a.normalize(t,t),u.setAxisAngle(r,t,Math.PI),r):f>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(a.cross(t,o,i),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+f,u.normalize(r,r))}}(),u.setAxes=function(){var t=o.create();return function(e,n,r,o){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=o[0],t[4]=o[1],t[7]=o[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],u.normalize(e,u.fromMat3(e,t))}}(),u.clone=i.clone,u.fromValues=i.fromValues,u.copy=i.copy,u.set=i.set,u.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},u.setAxisAngle=function(t,e,n){n=.5*n;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t},u.add=i.add,u.multiply=function(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],u=n[0],f=n[1],c=n[2],s=n[3];return t[0]=r*s+i*u+o*c-a*f,t[1]=o*s+i*f+a*u-r*c,t[2]=a*s+i*c+r*f-o*u,t[3]=i*s-r*u-o*f-a*c,t},u.mul=u.multiply,u.scale=i.scale,u.rotateX=function(t,e,n){n*=.5;var r=e[0],o=e[1],a=e[2],i=e[3],u=Math.sin(n),f=Math.cos(n);return t[0]=r*f+i*u,t[1]=o*f+a*u,t[2]=a*f-o*u,t[3]=i*f-r*u,t},u.rotateY=function(t,e,n){n*=.5;var r=e[0],o=e[1],a=e[2],i=e[3],u=Math.sin(n),f=Math.cos(n);return t[0]=r*f-a*u,t[1]=o*f+i*u,t[2]=a*f+r*u,t[3]=i*f-o*u,t},u.rotateZ=function(t,e,n){n*=.5;var r=e[0],o=e[1],a=e[2],i=e[3],u=Math.sin(n),f=Math.cos(n);return t[0]=r*f+o*u,t[1]=o*f-r*u,t[2]=a*f+i*u,t[3]=i*f-a*u,t},u.calculateW=function(t,e){var n=e[0],r=e[1],o=e[2];return t[0]=n,t[1]=r,t[2]=o,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-o*o)),t},u.dot=i.dot,u.lerp=i.lerp,u.slerp=function(t,e,n,r){var o,a,i,u,f,c=e[0],s=e[1],l=e[2],h=e[3],d=n[0],p=n[1],v=n[2],m=n[3];return a=c*d+s*p+l*v+h*m,0>a&&(a=-a,d=-d,p=-p,v=-v,m=-m),1-a>1e-6?(o=Math.acos(a),i=Math.sin(o),u=Math.sin((1-r)*o)/i,f=Math.sin(r*o)/i):(u=1-r,f=r),t[0]=u*c+f*d,t[1]=u*s+f*p,t[2]=u*l+f*v,t[3]=u*h+f*m,t},u.sqlerp=function(){var t=u.create(),e=u.create();return function(n,r,o,a,i,f){return u.slerp(t,r,i,f),u.slerp(e,o,a,f),u.slerp(n,t,e,2*f*(1-f)),n}}(),u.invert=function(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=n*n+r*r+o*o+a*a,u=i?1/i:0;return t[0]=-n*u,t[1]=-r*u,t[2]=-o*u,t[3]=a*u,t},u.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},u.length=i.length,u.len=u.length,u.squaredLength=i.squaredLength,u.sqrLen=u.squaredLength,u.normalize=i.normalize,u.fromMat3=function(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var o=0;e[4]>e[0]&&(o=1),e[8]>e[3*o+o]&&(o=2);var a=(o+1)%3,i=(o+2)%3;n=Math.sqrt(e[3*o+o]-e[3*a+a]-e[3*i+i]+1),t[o]=.5*n,n=.5/n,t[3]=(e[3*a+i]-e[3*i+a])*n,t[a]=(e[3*a+o]+e[3*o+a])*n,t[i]=(e[3*i+o]+e[3*o+i])*n}return t},u.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exports=u},{"./common.js":4,"./mat3.js":7,"./vec3.js":11,"./vec4.js":12}],10:[function(t,e,n){var r=t("./common.js"),o={};o.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},o.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},o.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},o.set=function(t,e,n){return t[0]=e,t[1]=n,t},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},o.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},o.sub=o.subtract,o.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},o.mul=o.multiply,o.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},o.div=o.divide,o.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},o.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},o.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},o.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},o.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},o.dist=o.distance,o.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},o.sqrDist=o.squaredDistance,o.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},o.len=o.length,o.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},o.sqrLen=o.squaredLength,o.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},o.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},o.normalize=function(t,e){var n=e[0],r=e[1],o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o),t},o.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},o.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},o.lerp=function(t,e,n,r){var o=e[0],a=e[1];return t[0]=o+r*(n[0]-o),t[1]=a+r*(n[1]-a),t},o.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},o.transformMat2=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o,t[1]=n[1]*r+n[3]*o,t},o.transformMat2d=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o+n[4],t[1]=n[1]*r+n[3]*o+n[5],t},o.transformMat3=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[3]*o+n[6],t[1]=n[1]*r+n[4]*o+n[7],t},o.transformMat4=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[4]*o+n[12],t[1]=n[1]*r+n[5]*o+n[13],t},o.forEach=function(){var t=o.create();return function(e,n,r,o,a,i){var u,f;for(n||(n=2),r||(r=0),f=o?Math.min(o*n+r,e.length):e.length,u=r;f>u;u+=n)t[0]=e[u],t[1]=e[u+1],a(t,t,i),e[u]=t[0],e[u+1]=t[1];return e}}(),o.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exports=o},{"./common.js":4}],11:[function(t,e,n){var r=t("./common.js"),o={};o.create=function(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},o.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},o.fromValues=function(t,e,n){var o=new r.ARRAY_TYPE(3);return o[0]=t,o[1]=e,o[2]=n,o},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},o.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},o.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},o.sub=o.subtract,o.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},o.mul=o.multiply,o.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},o.div=o.divide,o.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},o.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},o.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},o.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},o.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(n*n+r*r+o*o)},o.dist=o.distance,o.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return n*n+r*r+o*o},o.sqrDist=o.squaredDistance,o.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},o.len=o.length,o.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},o.sqrLen=o.squaredLength,o.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},o.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},o.normalize=function(t,e){var n=e[0],r=e[1],o=e[2],a=n*n+r*r+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t},o.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},o.cross=function(t,e,n){var r=e[0],o=e[1],a=e[2],i=n[0],u=n[1],f=n[2];return t[0]=o*f-a*u,t[1]=a*i-r*f,t[2]=r*u-o*i,t},o.lerp=function(t,e,n,r){var o=e[0],a=e[1],i=e[2];return t[0]=o+r*(n[0]-o),t[1]=a+r*(n[1]-a),t[2]=i+r*(n[2]-i),t},o.hermite=function(t,e,n,r,o,a){var i=a*a,u=i*(2*a-3)+1,f=i*(a-2)+a,c=i*(a-1),s=i*(3-2*a);return t[0]=e[0]*u+n[0]*f+r[0]*c+o[0]*s,t[1]=e[1]*u+n[1]*f+r[1]*c+o[1]*s,t[2]=e[2]*u+n[2]*f+r[2]*c+o[2]*s,t},o.bezier=function(t,e,n,r,o,a){var i=1-a,u=i*i,f=a*a,c=u*i,s=3*a*u,l=3*f*i,h=f*a;return t[0]=e[0]*c+n[0]*s+r[0]*l+o[0]*h,t[1]=e[1]*c+n[1]*s+r[1]*l+o[1]*h,t[2]=e[2]*c+n[2]*s+r[2]*l+o[2]*h,t},o.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,o=2*r.RANDOM()-1,a=Math.sqrt(1-o*o)*e;return t[0]=Math.cos(n)*a,t[1]=Math.sin(n)*a,t[2]=o*e,t},o.transformMat4=function(t,e,n){var r=e[0],o=e[1],a=e[2],i=n[3]*r+n[7]*o+n[11]*a+n[15];return i=i||1,t[0]=(n[0]*r+n[4]*o+n[8]*a+n[12])/i,t[1]=(n[1]*r+n[5]*o+n[9]*a+n[13])/i,t[2]=(n[2]*r+n[6]*o+n[10]*a+n[14])/i,t},o.transformMat3=function(t,e,n){var r=e[0],o=e[1],a=e[2];return t[0]=r*n[0]+o*n[3]+a*n[6],t[1]=r*n[1]+o*n[4]+a*n[7],t[2]=r*n[2]+o*n[5]+a*n[8],t},o.transformQuat=function(t,e,n){var r=e[0],o=e[1],a=e[2],i=n[0],u=n[1],f=n[2],c=n[3],s=c*r+u*a-f*o,l=c*o+f*r-i*a,h=c*a+i*o-u*r,d=-i*r-u*o-f*a;return t[0]=s*c+d*-i+l*-f-h*-u,t[1]=l*c+d*-u+h*-i-s*-f,t[2]=h*c+d*-f+s*-u-l*-i,t},o.rotateX=function(t,e,n,r){var o=[],a=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],a[0]=o[0],a[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),a[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},o.rotateY=function(t,e,n,r){var o=[],a=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],a[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),a[1]=o[1],a[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},o.rotateZ=function(t,e,n,r){var o=[],a=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],a[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),a[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),a[2]=o[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},o.forEach=function(){var t=o.create();return function(e,n,r,o,a,i){var u,f;for(n||(n=3),r||(r=0),f=o?Math.min(o*n+r,e.length):e.length,u=r;f>u;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],a(t,t,i),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2];return e}}(),o.angle=function(t,e){var n=o.fromValues(t[0],t[1],t[2]),r=o.fromValues(e[0],e[1],e[2]);o.normalize(n,n),o.normalize(r,r);var a=o.dot(n,r);return a>1?0:Math.acos(a)},o.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exports=o},{"./common.js":4}],12:[function(t,e,n){var r=t("./common.js"),o={};o.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},o.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},o.fromValues=function(t,e,n,o){var a=new r.ARRAY_TYPE(4);return a[0]=t,a[1]=e,a[2]=n,a[3]=o,a},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},o.set=function(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},o.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},o.sub=o.subtract,o.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},o.mul=o.multiply,o.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},o.div=o.divide,o.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},o.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},o.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},o.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},o.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(n*n+r*r+o*o+a*a)},o.dist=o.distance,o.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],a=e[3]-t[3];return n*n+r*r+o*o+a*a},o.sqrDist=o.squaredDistance,o.length=function(t){var e=t[0],n=t[1],r=t[2],o=t[3];return Math.sqrt(e*e+n*n+r*r+o*o)},o.len=o.length,o.squaredLength=function(t){var e=t[0],n=t[1],r=t[2],o=t[3];return e*e+n*n+r*r+o*o},o.sqrLen=o.squaredLength,o.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},o.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},o.normalize=function(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=n*n+r*r+o*o+a*a;return i>0&&(i=1/Math.sqrt(i),t[0]=n*i,t[1]=r*i,t[2]=o*i,t[3]=a*i),t},o.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},o.lerp=function(t,e,n,r){var o=e[0],a=e[1],i=e[2],u=e[3];return t[0]=o+r*(n[0]-o),t[1]=a+r*(n[1]-a),t[2]=i+r*(n[2]-i),t[3]=u+r*(n[3]-u),t},o.random=function(t,e){return e=e||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),o.normalize(t,t),o.scale(t,t,e),t},o.transformMat4=function(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3];return t[0]=n[0]*r+n[4]*o+n[8]*a+n[12]*i,t[1]=n[1]*r+n[5]*o+n[9]*a+n[13]*i,t[2]=n[2]*r+n[6]*o+n[10]*a+n[14]*i,t[3]=n[3]*r+n[7]*o+n[11]*a+n[15]*i,t},o.transformQuat=function(t,e,n){var r=e[0],o=e[1],a=e[2],i=n[0],u=n[1],f=n[2],c=n[3],s=c*r+u*a-f*o,l=c*o+f*r-i*a,h=c*a+i*o-u*r,d=-i*r-u*o-f*a;return t[0]=s*c+d*-i+l*-f-h*-u,t[1]=l*c+d*-u+h*-i-s*-f,t[2]=h*c+d*-f+s*-u-l*-i,t[3]=e[3],t},o.forEach=function(){var t=o.create();return function(e,n,r,o,a,i){var u,f;for(n||(n=4),r||(r=0),f=o?Math.min(o*n+r,e.length):e.length,u=r;f>u;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],t[3]=e[u+3],a(t,t,i),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2],e[u+3]=t[3];return e}}(),o.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exports=o},{"./common.js":4}],13:[function(t,e,n){function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);var o=typeof t;if("base64"===e&&"string"===o)for(t=k(t);t.length%4!==0;)t+="=";var a;if("number"===o)a=I(t);else if("string"===o)a=r.byteLength(t,e);else{if("object"!==o)throw new Error("First argument needs to be a number, array or string.");a=I(t.length)}var i;r._useTypedArrays?i=r._augment(new Uint8Array(a)):(i=this,i.length=a,i._isBuffer=!0);var u;if(r._useTypedArrays&&"number"==typeof t.byteLength)i._set(t);else if(B(t))for(u=0;a>u;u++)r.isBuffer(t)?i[u]=t.readUInt8(u):i[u]=t[u];else if("string"===o)i.write(t,0,e);else if("number"===o&&!r._useTypedArrays&&!n)for(u=0;a>u;u++)i[u]=0;return i}function o(t,e,n,o){n=Number(n)||0;var a=t.length-n;o?(o=Number(o),o>a&&(o=a)):o=a;var i=e.length;X(i%2===0,"Invalid hex string"),o>i/2&&(o=i/2);for(var u=0;o>u;u++){var f=parseInt(e.substr(2*u,2),16);X(!isNaN(f),"Invalid hex string"),t[n+u]=f}return r._charsWritten=2*u,u}function a(t,e,n,o){var a=r._charsWritten=F(N(e),t,n,o);return a}function i(t,e,n,o){var a=r._charsWritten=F(U(e),t,n,o);return a}function u(t,e,n,r){return i(t,e,n,r)}function f(t,e,n,o){var a=r._charsWritten=F(S(e),t,n,o);return a}function c(t,e,n,o){var a=r._charsWritten=F(q(e),t,n,o);return a}function s(t,e,n){return 0===e&&n===t.length?z.fromByteArray(t):z.fromByteArray(t.slice(e,n))}function l(t,e,n){var r="",o="";n=Math.min(t.length,n);for(var a=e;n>a;a++)t[a]<=127?(r+=P(o)+String.fromCharCode(t[a]),o=""):o+="%"+t[a].toString(16);return r+P(o)}function h(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;n>o;o++)r+=String.fromCharCode(t[o]);return r}function d(t,e,n){return h(t,e,n)}function p(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var o="",a=e;n>a;a++)o+=D(t[a]);return o}function v(t,e,n){for(var r=t.slice(e,n),o="",a=0;a<r.length;a+=2)o+=String.fromCharCode(r[a]+256*r[a+1]);return o}function m(t,e,n,r){r||(X("boolean"==typeof n,"missing or invalid endian"),X(void 0!==e&&null!==e,"missing offset"),X(e+1<t.length,"Trying to read beyond buffer length"));var o=t.length;if(!(e>=o)){var a;return n?(a=t[e],o>e+1&&(a|=t[e+1]<<8)):(a=t[e]<<8,o>e+1&&(a|=t[e+1])),a}}function g(t,e,n,r){r||(X("boolean"==typeof n,"missing or invalid endian"),X(void 0!==e&&null!==e,"missing offset"),X(e+3<t.length,"Trying to read beyond buffer length"));var o=t.length;if(!(e>=o)){var a;return n?(o>e+2&&(a=t[e+2]<<16),o>e+1&&(a|=t[e+1]<<8),a|=t[e],o>e+3&&(a+=t[e+3]<<24>>>0)):(o>e+1&&(a=t[e+1]<<16),o>e+2&&(a|=t[e+2]<<8),o>e+3&&(a|=t[e+3]),a+=t[e]<<24>>>0),a}}function b(t,e,n,r){r||(X("boolean"==typeof n,"missing or invalid endian"),X(void 0!==e&&null!==e,"missing offset"),X(e+1<t.length,"Trying to read beyond buffer length"));var o=t.length;if(!(e>=o)){var a=m(t,e,n,!0),i=32768&a;return i?-1*(65535-a+1):a}}function y(t,e,n,r){r||(X("boolean"==typeof n,"missing or invalid endian"),X(void 0!==e&&null!==e,"missing offset"),X(e+3<t.length,"Trying to read beyond buffer length"));var o=t.length;if(!(e>=o)){var a=g(t,e,n,!0),i=2147483648&a;return i?-1*(4294967295-a+1):a}}function w(t,e,n,r){return r||(X("boolean"==typeof n,"missing or invalid endian"),X(e+3<t.length,"Trying to read beyond buffer length")),G.read(t,e,n,23,4)}function M(t,e,n,r){return r||(X("boolean"==typeof n,"missing or invalid endian"),X(e+7<t.length,"Trying to read beyond buffer length")),G.read(t,e,n,52,8)}function x(t,e,n,r,o){o||(X(void 0!==e&&null!==e,"missing value"),X("boolean"==typeof r,"missing or invalid endian"),X(void 0!==n&&null!==n,"missing offset"),X(n+1<t.length,"trying to write beyond buffer length"),C(e,65535));var a=t.length;if(!(n>=a))for(var i=0,u=Math.min(a-n,2);u>i;i++)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function A(t,e,n,r,o){o||(X(void 0!==e&&null!==e,"missing value"),X("boolean"==typeof r,"missing or invalid endian"),X(void 0!==n&&null!==n,"missing offset"),X(n+3<t.length,"trying to write beyond buffer length"),C(e,4294967295));var a=t.length;if(!(n>=a))for(var i=0,u=Math.min(a-n,4);u>i;i++)t[n+i]=e>>>8*(r?i:3-i)&255}function E(t,e,n,r,o){o||(X(void 0!==e&&null!==e,"missing value"),X("boolean"==typeof r,"missing or invalid endian"),X(void 0!==n&&null!==n,"missing offset"),X(n+1<t.length,"Trying to write beyond buffer length"),Y(e,32767,-32768));var a=t.length;n>=a||(e>=0?x(t,e,n,r,o):x(t,65535+e+1,n,r,o))}function _(t,e,n,r,o){o||(X(void 0!==e&&null!==e,"missing value"),X("boolean"==typeof r,"missing or invalid endian"),X(void 0!==n&&null!==n,"missing offset"),X(n+3<t.length,"Trying to write beyond buffer length"),Y(e,2147483647,-2147483648));var a=t.length;n>=a||(e>=0?A(t,e,n,r,o):A(t,4294967295+e+1,n,r,o))}function R(t,e,n,r,o){o||(X(void 0!==e&&null!==e,"missing value"),X("boolean"==typeof r,"missing or invalid endian"),X(void 0!==n&&null!==n,"missing offset"),X(n+3<t.length,"Trying to write beyond buffer length"),O(e,3.4028234663852886e38,-3.4028234663852886e38));var a=t.length;n>=a||G.write(t,e,n,r,23,4)}function T(t,e,n,r,o){o||(X(void 0!==e&&null!==e,"missing value"),X("boolean"==typeof r,"missing or invalid endian"),X(void 0!==n&&null!==n,"missing offset"),X(n+7<t.length,"Trying to write beyond buffer length"),O(e,1.7976931348623157e308,-1.7976931348623157e308));var a=t.length;n>=a||G.write(t,e,n,r,52,8)}function k(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function L(t,e,n){return"number"!=typeof t?n:(t=~~t,t>=e?e:t>=0?t:(t+=e,t>=0?t:0))}function I(t){return t=~~Math.ceil(+t),0>t?0:t}function j(t){return(Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)})(t)}function B(t){return j(t)||r.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function D(t){return 16>t?"0"+t.toString(16):t.toString(16)}function N(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(127>=r)e.push(t.charCodeAt(n));else{var o=n;r>=55296&&57343>=r&&n++;for(var a=encodeURIComponent(t.slice(o,n+1)).substr(1).split("%"),i=0;i<a.length;i++)e.push(parseInt(a[i],16))}}return e}function U(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function q(t){for(var e,n,r,o=[],a=0;a<t.length;a++)e=t.charCodeAt(a),n=e>>8,r=e%256,o.push(r),o.push(n);return o}function S(t){return z.toByteArray(t)}function F(t,e,n,r){for(var o=0;r>o&&!(o+n>=e.length||o>=t.length);o++)e[o+n]=t[o];return o}function P(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}function C(t,e){X("number"==typeof t,"cannot write a non-number as a number"),X(t>=0,"specified a negative value for writing an unsigned value"),X(e>=t,"value is larger than maximum value for type"),X(Math.floor(t)===t,"value has a fractional component")}function Y(t,e,n){X("number"==typeof t,"cannot write a non-number as a number"),X(e>=t,"value larger than maximum allowed value"),X(t>=n,"value smaller than minimum allowed value"),X(Math.floor(t)===t,"value has a fractional component")}function O(t,e,n){X("number"==typeof t,"cannot write a non-number as a number"),X(e>=t,"value larger than maximum allowed value"),X(t>=n,"value smaller than minimum allowed value")}function X(t,e){if(!t)throw new Error(e||"Failed assertion")}var z=t("base64-js"),G=t("ieee754");n.Buffer=r,n.SlowBuffer=r,n.INSPECT_MAX_BYTES=50,r.poolSize=8192,r._useTypedArrays=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray}catch(n){return!1}}(),r.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":
case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.isBuffer=function(t){return!(null===t||void 0===t||!t._isBuffer)},r.byteLength=function(t,e){var n;switch(t+="",e||"utf8"){case"hex":n=t.length/2;break;case"utf8":case"utf-8":n=N(t).length;break;case"ascii":case"binary":case"raw":n=t.length;break;case"base64":n=S(t).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*t.length;break;default:throw new Error("Unknown encoding")}return n},r.concat=function(t,e){if(X(j(t),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===t.length)return new r(0);if(1===t.length)return t[0];var n;if("number"!=typeof e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var o=new r(e),a=0;for(n=0;n<t.length;n++){var i=t[n];i.copy(o,a),a+=i.length}return o},r.prototype.write=function(t,e,n,r){if(isFinite(e))isFinite(n)||(r=n,n=void 0);else{var s=r;r=e,e=n,n=s}e=Number(e)||0;var l=this.length-e;n?(n=Number(n),n>l&&(n=l)):n=l,r=String(r||"utf8").toLowerCase();var h;switch(r){case"hex":h=o(this,t,e,n);break;case"utf8":case"utf-8":h=a(this,t,e,n);break;case"ascii":h=i(this,t,e,n);break;case"binary":h=u(this,t,e,n);break;case"base64":h=f(this,t,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":h=c(this,t,e,n);break;default:throw new Error("Unknown encoding")}return h},r.prototype.toString=function(t,e,n){var r=this;if(t=String(t||"utf8").toLowerCase(),e=Number(e)||0,n=void 0!==n?Number(n):n=r.length,n===e)return"";var o;switch(t){case"hex":o=p(r,e,n);break;case"utf8":case"utf-8":o=l(r,e,n);break;case"ascii":o=h(r,e,n);break;case"binary":o=d(r,e,n);break;case"base64":o=s(r,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=v(r,e,n);break;default:throw new Error("Unknown encoding")}return o},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.copy=function(t,e,n,o){var a=this;if(n||(n=0),o||0===o||(o=this.length),e||(e=0),o!==n&&0!==t.length&&0!==a.length){X(o>=n,"sourceEnd < sourceStart"),X(e>=0&&e<t.length,"targetStart out of bounds"),X(n>=0&&n<a.length,"sourceStart out of bounds"),X(o>=0&&o<=a.length,"sourceEnd out of bounds"),o>this.length&&(o=this.length),t.length-e<o-n&&(o=t.length-e+n);var i=o-n;if(100>i||!r._useTypedArrays)for(var u=0;i>u;u++)t[u+e]=this[u+n];else t._set(this.subarray(n,n+i),e)}},r.prototype.slice=function(t,e){var n=this.length;if(t=L(t,n,0),e=L(e,n,n),r._useTypedArrays)return r._augment(this.subarray(t,e));for(var o=e-t,a=new r(o,void 0,!0),i=0;o>i;i++)a[i]=this[i+t];return a},r.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},r.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},r.prototype.readUInt8=function(t,e){return e||(X(void 0!==t&&null!==t,"missing offset"),X(t<this.length,"Trying to read beyond buffer length")),t>=this.length?void 0:this[t]},r.prototype.readUInt16LE=function(t,e){return m(this,t,!0,e)},r.prototype.readUInt16BE=function(t,e){return m(this,t,!1,e)},r.prototype.readUInt32LE=function(t,e){return g(this,t,!0,e)},r.prototype.readUInt32BE=function(t,e){return g(this,t,!1,e)},r.prototype.readInt8=function(t,e){if(e||(X(void 0!==t&&null!==t,"missing offset"),X(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length)){var n=128&this[t];return n?-1*(255-this[t]+1):this[t]}},r.prototype.readInt16LE=function(t,e){return b(this,t,!0,e)},r.prototype.readInt16BE=function(t,e){return b(this,t,!1,e)},r.prototype.readInt32LE=function(t,e){return y(this,t,!0,e)},r.prototype.readInt32BE=function(t,e){return y(this,t,!1,e)},r.prototype.readFloatLE=function(t,e){return w(this,t,!0,e)},r.prototype.readFloatBE=function(t,e){return w(this,t,!1,e)},r.prototype.readDoubleLE=function(t,e){return M(this,t,!0,e)},r.prototype.readDoubleBE=function(t,e){return M(this,t,!1,e)},r.prototype.writeUInt8=function(t,e,n){n||(X(void 0!==t&&null!==t,"missing value"),X(void 0!==e&&null!==e,"missing offset"),X(e<this.length,"trying to write beyond buffer length"),C(t,255)),e>=this.length||(this[e]=t)},r.prototype.writeUInt16LE=function(t,e,n){x(this,t,e,!0,n)},r.prototype.writeUInt16BE=function(t,e,n){x(this,t,e,!1,n)},r.prototype.writeUInt32LE=function(t,e,n){A(this,t,e,!0,n)},r.prototype.writeUInt32BE=function(t,e,n){A(this,t,e,!1,n)},r.prototype.writeInt8=function(t,e,n){n||(X(void 0!==t&&null!==t,"missing value"),X(void 0!==e&&null!==e,"missing offset"),X(e<this.length,"Trying to write beyond buffer length"),Y(t,127,-128)),e>=this.length||(t>=0?this.writeUInt8(t,e,n):this.writeUInt8(255+t+1,e,n))},r.prototype.writeInt16LE=function(t,e,n){E(this,t,e,!0,n)},r.prototype.writeInt16BE=function(t,e,n){E(this,t,e,!1,n)},r.prototype.writeInt32LE=function(t,e,n){_(this,t,e,!0,n)},r.prototype.writeInt32BE=function(t,e,n){_(this,t,e,!1,n)},r.prototype.writeFloatLE=function(t,e,n){R(this,t,e,!0,n)},r.prototype.writeFloatBE=function(t,e,n){R(this,t,e,!1,n)},r.prototype.writeDoubleLE=function(t,e,n){T(this,t,e,!0,n)},r.prototype.writeDoubleBE=function(t,e,n){T(this,t,e,!1,n)},r.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),"string"==typeof t&&(t=t.charCodeAt(0)),X("number"==typeof t&&!isNaN(t),"value is not a number"),X(n>=e,"end < start"),n!==e&&0!==this.length){X(e>=0&&e<this.length,"start out of bounds"),X(n>=0&&n<=this.length,"end out of bounds");for(var r=e;n>r;r++)this[r]=t}},r.prototype.inspect=function(){for(var t=[],e=this.length,r=0;e>r;r++)if(t[r]=D(this[r]),r===n.INSPECT_MAX_BYTES){t[r+1]="...";break}return"<Buffer "+t.join(" ")+">"},r.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(r._useTypedArrays)return new r(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;n>e;e+=1)t[e]=this[e];return t.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var V=r.prototype;r._augment=function(t){return t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=V.get,t.set=V.set,t.write=V.write,t.toString=V.toString,t.toLocaleString=V.toString,t.toJSON=V.toJSON,t.copy=V.copy,t.slice=V.slice,t.readUInt8=V.readUInt8,t.readUInt16LE=V.readUInt16LE,t.readUInt16BE=V.readUInt16BE,t.readUInt32LE=V.readUInt32LE,t.readUInt32BE=V.readUInt32BE,t.readInt8=V.readInt8,t.readInt16LE=V.readInt16LE,t.readInt16BE=V.readInt16BE,t.readInt32LE=V.readInt32LE,t.readInt32BE=V.readInt32BE,t.readFloatLE=V.readFloatLE,t.readFloatBE=V.readFloatBE,t.readDoubleLE=V.readDoubleLE,t.readDoubleBE=V.readDoubleBE,t.writeUInt8=V.writeUInt8,t.writeUInt16LE=V.writeUInt16LE,t.writeUInt16BE=V.writeUInt16BE,t.writeUInt32LE=V.writeUInt32LE,t.writeUInt32BE=V.writeUInt32BE,t.writeInt8=V.writeInt8,t.writeInt16LE=V.writeInt16LE,t.writeInt16BE=V.writeInt16BE,t.writeInt32LE=V.writeInt32LE,t.writeInt32BE=V.writeInt32BE,t.writeFloatLE=V.writeFloatLE,t.writeFloatBE=V.writeFloatBE,t.writeDoubleLE=V.writeDoubleLE,t.writeDoubleBE=V.writeDoubleBE,t.fill=V.fill,t.inspect=V.inspect,t.toArrayBuffer=V.toArrayBuffer,t}},{"base64-js":14,ieee754:15}],14:[function(t,e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===i||e===l?62:e===u||e===h?63:f>e?-1:f+10>e?e-f+26+26:s+26>e?e-s:c+26>e?e-c+26:void 0}function n(t){function n(t){c[l++]=t}var r,o,i,u,f,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=t.length;f="="===t.charAt(s-2)?2:"="===t.charAt(s-1)?1:0,c=new a(3*t.length/4-f),i=f>0?t.length-4:t.length;var l=0;for(r=0,o=0;i>r;r+=4,o+=3)u=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&u)>>16),n((65280&u)>>8),n(255&u);return 2===f?(u=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&u)):1===f&&(u=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(u>>8&255),n(255&u)),c}function o(t){function e(t){return r.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var o,a,i,u=t.length%3,f="";for(o=0,i=t.length-u;i>o;o+=3)a=(t[o]<<16)+(t[o+1]<<8)+t[o+2],f+=n(a);switch(u){case 1:a=t[t.length-1],f+=e(a>>2),f+=e(a<<4&63),f+="==";break;case 2:a=(t[t.length-2]<<8)+t[t.length-1],f+=e(a>>10),f+=e(a>>4&63),f+=e(a<<2&63),f+="="}return f}var a="undefined"!=typeof Uint8Array?Uint8Array:Array,i="+".charCodeAt(0),u="/".charCodeAt(0),f="0".charCodeAt(0),c="a".charCodeAt(0),s="A".charCodeAt(0),l="-".charCodeAt(0),h="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=o}("undefined"==typeof n?this.base64js={}:n)},{}],15:[function(t,e,n){n.read=function(t,e,n,r,o){var a,i,u=8*o-r-1,f=(1<<u)-1,c=f>>1,s=-7,l=n?o-1:0,h=n?-1:1,d=t[e+l];for(l+=h,a=d&(1<<-s)-1,d>>=-s,s+=u;s>0;a=256*a+t[e+l],l+=h,s-=8);for(i=a&(1<<-s)-1,a>>=-s,s+=r;s>0;i=256*i+t[e+l],l+=h,s-=8);if(0===a)a=1-c;else{if(a===f)return i?NaN:(d?-1:1)*(1/0);i+=Math.pow(2,r),a-=c}return(d?-1:1)*i*Math.pow(2,a-r)},n.write=function(t,e,n,r,o,a){var i,u,f,c=8*a-o-1,s=(1<<c)-1,l=s>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,p=r?1:-1,v=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,i=s):(i=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-i))<1&&(i--,f*=2),e+=i+l>=1?h/f:h*Math.pow(2,1-l),e*f>=2&&(i++,f/=2),i+l>=s?(u=0,i=s):i+l>=1?(u=(e*f-1)*Math.pow(2,o),i+=l):(u=e*Math.pow(2,l-1)*Math.pow(2,o),i=0));o>=8;t[n+d]=255&u,d+=p,u/=256,o-=8);for(i=i<<o|u,c+=o;c>0;t[n+d]=255&i,d+=p,i/=256,c-=8);t[n+d-p]|=128*v}},{}],16:[function(t,e,n){function r(t,e){if(t.length%u!==0){var n=t.length+(u-t.length%u);t=i.concat([t,f],n)}for(var r=[],o=e?t.readInt32BE:t.readInt32LE,a=0;a<t.length;a+=u)r.push(o.call(t,a));return r}function o(t,e,n){for(var r=new i(e),o=n?r.writeInt32BE:r.writeInt32LE,a=0;a<t.length;a++)o.call(r,t[a],4*a,!0);return r}function a(t,e,n,a){i.isBuffer(t)||(t=new i(t));var u=e(r(t,a),t.length*c);return o(u,n,a)}var i=t("buffer").Buffer,u=4,f=new i(u);f.fill(0);var c=8;e.exports={hash:a}},{buffer:13}],17:[function(t,e,n){function r(t,e,n){u.isBuffer(e)||(e=new u(e)),u.isBuffer(n)||(n=new u(n)),e.length>d?e=t(e):e.length<d&&(e=u.concat([e,p],d));for(var r=new u(d),o=new u(d),a=0;d>a;a++)r[a]=54^e[a],o[a]=92^e[a];var i=t(u.concat([r,n]));return t(u.concat([o,i]))}function o(t,e){t=t||"sha1";var n=h[t],o=[],i=0;return n||a("algorithm:",t,"is not yet supported"),{update:function(t){return u.isBuffer(t)||(t=new u(t)),o.push(t),i+=t.length,this},digest:function(t){var a=u.concat(o),i=e?r(n,e,a):n(a);return o=null,t?i.toString(t):i}}}function a(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function i(t,e){for(var n in t)e(t[n],n)}var u=t("buffer").Buffer,f=t("./sha"),c=t("./sha256"),s=t("./rng"),l=t("./md5"),h={sha1:f,sha256:c,md5:l},d=64,p=new u(d);p.fill(0),n.createHash=function(t){return o(t)},n.createHmac=function(t,e){return o(t,e)},n.randomBytes=function(t,e){if(!e||!e.call)return new u(s(t));try{e.call(this,void 0,new u(s(t)))}catch(n){e(n)}},i(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],function(t){n[t]=function(){a("sorry,",t,"is not implemented yet")}})},{"./md5":18,"./rng":19,"./sha":20,"./sha256":21,buffer:13}],18:[function(t,e,n){function r(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var n=1732584193,r=-271733879,o=-1732584194,s=271733878,l=0;l<t.length;l+=16){var h=n,d=r,p=o,v=s;n=a(n,r,o,s,t[l+0],7,-680876936),s=a(s,n,r,o,t[l+1],12,-389564586),o=a(o,s,n,r,t[l+2],17,606105819),r=a(r,o,s,n,t[l+3],22,-1044525330),n=a(n,r,o,s,t[l+4],7,-176418897),s=a(s,n,r,o,t[l+5],12,1200080426),o=a(o,s,n,r,t[l+6],17,-1473231341),r=a(r,o,s,n,t[l+7],22,-45705983),n=a(n,r,o,s,t[l+8],7,1770035416),s=a(s,n,r,o,t[l+9],12,-1958414417),o=a(o,s,n,r,t[l+10],17,-42063),r=a(r,o,s,n,t[l+11],22,-1990404162),n=a(n,r,o,s,t[l+12],7,1804603682),s=a(s,n,r,o,t[l+13],12,-40341101),o=a(o,s,n,r,t[l+14],17,-1502002290),r=a(r,o,s,n,t[l+15],22,1236535329),n=i(n,r,o,s,t[l+1],5,-165796510),s=i(s,n,r,o,t[l+6],9,-1069501632),o=i(o,s,n,r,t[l+11],14,643717713),r=i(r,o,s,n,t[l+0],20,-373897302),n=i(n,r,o,s,t[l+5],5,-701558691),s=i(s,n,r,o,t[l+10],9,38016083),o=i(o,s,n,r,t[l+15],14,-660478335),r=i(r,o,s,n,t[l+4],20,-405537848),n=i(n,r,o,s,t[l+9],5,568446438),s=i(s,n,r,o,t[l+14],9,-1019803690),o=i(o,s,n,r,t[l+3],14,-187363961),r=i(r,o,s,n,t[l+8],20,1163531501),n=i(n,r,o,s,t[l+13],5,-1444681467),s=i(s,n,r,o,t[l+2],9,-51403784),o=i(o,s,n,r,t[l+7],14,1735328473),r=i(r,o,s,n,t[l+12],20,-1926607734),n=u(n,r,o,s,t[l+5],4,-378558),s=u(s,n,r,o,t[l+8],11,-2022574463),o=u(o,s,n,r,t[l+11],16,1839030562),r=u(r,o,s,n,t[l+14],23,-35309556),n=u(n,r,o,s,t[l+1],4,-1530992060),s=u(s,n,r,o,t[l+4],11,1272893353),o=u(o,s,n,r,t[l+7],16,-155497632),r=u(r,o,s,n,t[l+10],23,-1094730640),n=u(n,r,o,s,t[l+13],4,681279174),s=u(s,n,r,o,t[l+0],11,-358537222),o=u(o,s,n,r,t[l+3],16,-722521979),r=u(r,o,s,n,t[l+6],23,76029189),n=u(n,r,o,s,t[l+9],4,-640364487),s=u(s,n,r,o,t[l+12],11,-421815835),o=u(o,s,n,r,t[l+15],16,530742520),r=u(r,o,s,n,t[l+2],23,-995338651),n=f(n,r,o,s,t[l+0],6,-198630844),s=f(s,n,r,o,t[l+7],10,1126891415),o=f(o,s,n,r,t[l+14],15,-1416354905),r=f(r,o,s,n,t[l+5],21,-57434055),n=f(n,r,o,s,t[l+12],6,1700485571),s=f(s,n,r,o,t[l+3],10,-1894986606),o=f(o,s,n,r,t[l+10],15,-1051523),r=f(r,o,s,n,t[l+1],21,-2054922799),n=f(n,r,o,s,t[l+8],6,1873313359),s=f(s,n,r,o,t[l+15],10,-30611744),o=f(o,s,n,r,t[l+6],15,-1560198380),r=f(r,o,s,n,t[l+13],21,1309151649),n=f(n,r,o,s,t[l+4],6,-145523070),s=f(s,n,r,o,t[l+11],10,-1120210379),o=f(o,s,n,r,t[l+2],15,718787259),r=f(r,o,s,n,t[l+9],21,-343485551),n=c(n,h),r=c(r,d),o=c(o,p),s=c(s,v)}return Array(n,r,o,s)}function o(t,e,n,r,o,a){return c(s(c(c(e,t),c(r,a)),o),n)}function a(t,e,n,r,a,i,u){return o(e&n|~e&r,t,e,a,i,u)}function i(t,e,n,r,a,i,u){return o(e&r|n&~r,t,e,a,i,u)}function u(t,e,n,r,a,i,u){return o(e^n^r,t,e,a,i,u)}function f(t,e,n,r,a,i,u){return o(n^(e|~r),t,e,a,i,u)}function c(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function s(t,e){return t<<e|t>>>32-e}var l=t("./helpers");e.exports=function(t){return l.hash(t,r,16)}},{"./helpers":16}],19:[function(t,e,n){!function(){var t,n,r=this;t=function(t){for(var e,e,n=new Array(t),r=0;t>r;r++)0==(3&r)&&(e=4294967296*Math.random()),n[r]=e>>>((3&r)<<3)&255;return n},r.crypto&&crypto.getRandomValues&&(n=function(t){var e=new Uint8Array(t);return crypto.getRandomValues(e),e}),e.exports=n||t}()},{}],20:[function(t,e,n){function r(t,e){t[e>>5]|=128<<24-e%32,t[(e+64>>9<<4)+15]=e;for(var n=Array(80),r=1732584193,f=-271733879,c=-1732584194,s=271733878,l=-1009589776,h=0;h<t.length;h+=16){for(var d=r,p=f,v=c,m=s,g=l,b=0;80>b;b++){16>b?n[b]=t[h+b]:n[b]=u(n[b-3]^n[b-8]^n[b-14]^n[b-16],1);var y=i(i(u(r,5),o(b,f,c,s)),i(i(l,n[b]),a(b)));l=s,s=c,c=u(f,30),f=r,r=y}r=i(r,d),f=i(f,p),c=i(c,v),s=i(s,m),l=i(l,g)}return Array(r,f,c,s,l)}function o(t,e,n,r){return 20>t?e&n|~e&r:40>t?e^n^r:60>t?e&n|e&r|n&r:e^n^r}function a(t){return 20>t?1518500249:40>t?1859775393:60>t?-1894007588:-899497514}function i(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function u(t,e){return t<<e|t>>>32-e}var f=t("./helpers");e.exports=function(t){return f.hash(t,r,20,!0)}},{"./helpers":16}],21:[function(t,e,n){var r=t("./helpers"),o=function(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n},a=function(t,e){return t>>>e|t<<32-e},i=function(t,e){return t>>>e},u=function(t,e,n){return t&e^~t&n},f=function(t,e,n){return t&e^t&n^e&n},c=function(t){return a(t,2)^a(t,13)^a(t,22)},s=function(t){return a(t,6)^a(t,11)^a(t,25)},l=function(t){return a(t,7)^a(t,18)^i(t,3)},h=function(t){return a(t,17)^a(t,19)^i(t,10)},d=function(t,e){var n,r,a,i,d,p,v,m,g,b,y,w,M=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),x=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),A=new Array(64);t[e>>5]|=128<<24-e%32,t[(e+64>>9<<4)+15]=e;for(var g=0;g<t.length;g+=16){n=x[0],r=x[1],a=x[2],i=x[3],d=x[4],p=x[5],v=x[6],m=x[7];for(var b=0;64>b;b++)16>b?A[b]=t[b+g]:A[b]=o(o(o(h(A[b-2]),A[b-7]),l(A[b-15])),A[b-16]),y=o(o(o(o(m,s(d)),u(d,p,v)),M[b]),A[b]),w=o(c(n),f(n,r,a)),m=v,v=p,p=d,d=o(i,y),i=a,a=r,r=n,n=o(y,w);x[0]=o(n,x[0]),x[1]=o(r,x[1]),x[2]=o(a,x[2]),x[3]=o(i,x[3]),x[4]=o(d,x[4]),x[5]=o(p,x[5]),x[6]=o(v,x[6]),x[7]=o(m,x[7])}return x};e.exports=function(t){return r.hash(t,d,32,!0)}},{"./helpers":16}],22:[function(t,e,n){var r=t("./lib/alea"),o=t("./lib/xor128"),a=t("./lib/xorwow"),i=t("./lib/xorshift7"),u=t("./lib/xor4096"),f=t("./lib/tychei"),c=t("./seedrandom");c.alea=r,c.xor128=o,c.xorwow=a,c.xorshift7=i,c.xor4096=u,c.tychei=f,e.exports=c},{"./lib/alea":23,"./lib/tychei":24,"./lib/xor128":25,"./lib/xor4096":26,"./lib/xorshift7":27,"./lib/xorwow":28,"./seedrandom":29}],23:[function(t,e,n){!function(t,e,n){function r(t){var e=this,n=i();e.next=function(){var t=2091639*e.s0+2.3283064365386963e-10*e.c;return e.s0=e.s1,e.s1=e.s2,e.s2=t-(e.c=0|t)},e.c=1,e.s0=n(" "),e.s1=n(" "),e.s2=n(" "),e.s0-=n(t),e.s0<0&&(e.s0+=1),e.s1-=n(t),e.s1<0&&(e.s1+=1),e.s2-=n(t),e.s2<0&&(e.s2+=1),n=null}function o(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function a(t,e){var n=new r(t),a=e&&e.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i["double"]=function(){return i()+1.1102230246251565e-16*(2097152*i()|0)},i.quick=i,a&&("object"==typeof a&&o(a,n),i.state=function(){return o(n,{})}),i}function i(){var t=4022871197,e=function(e){e=e.toString();for(var n=0;n<e.length;n++){t+=e.charCodeAt(n);var r=.02519603282416938*t;t=r>>>0,r-=t,r*=t,t=r>>>0,r-=t,t+=4294967296*r}return 2.3283064365386963e-10*(t>>>0)};return e}e&&e.exports?e.exports=a:n&&n.amd?n(function(){return a}):this.alea=a}(this,"object"==typeof e&&e,"function"==typeof define&&define)},{}],24:[function(t,e,n){!function(t,e,n){function r(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,o=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^o,e.a=o-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function o(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function a(t,e){var n=new r(t),a=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i["double"]=function(){do var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21);while(0===r);return r},i.int32=n.next,i.quick=i,a&&("object"==typeof a&&o(a,n),i.state=function(){return o(n,{})}),i}e&&e.exports?e.exports=a:n&&n.amd?n(function(){return a}):this.tychei=a}(this,"object"==typeof e&&e,"function"==typeof define&&define)},{}],25:[function(t,e,n){!function(t,e,n){function r(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function o(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function a(t,e){var n=new r(t),a=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i["double"]=function(){do var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21);while(0===r);return r},i.int32=n.next,i.quick=i,a&&("object"==typeof a&&o(a,n),i.state=function(){return o(n,{})}),i}e&&e.exports?e.exports=a:n&&n.amd?n(function(){return a}):this.xor128=a}(this,"object"==typeof e&&e,"function"==typeof define&&define)},{}],26:[function(t,e,n){!function(t,e,n){function r(t){function e(t,e){var n,r,o,a,i,u=[],f=128;for(e===(0|e)?(r=e,e=null):(e+="\x00",r=0,f=Math.max(f,e.length)),o=0,a=-32;f>a;++a)e&&(r^=e.charCodeAt((a+32)%e.length)),0===a&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(i=i+1640531527|0,n=u[127&a]^=r+i,o=0==n?o+1:0);for(o>=128&&(u[127&(e&&e.length||0)]=-1),o=127,a=512;a>0;--a)r=u[o+34&127],n=u[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,u[o]=r^n;t.w=i,t.X=u,t.i=o}var n=this;n.next=function(){var t,e,r=n.w,o=n.X,a=n.i;return n.w=r=r+1640531527|0,e=o[a+34&127],t=o[a=a+1&127],e^=e<<13,t^=t<<17,e^=e>>>15,t^=t>>>12,e=o[a]=e^t,n.i=a,e+(r^r>>>16)|0},e(n,t)}function o(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function a(t,e){null==t&&(t=+new Date);var n=new r(t),a=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i["double"]=function(){do var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21);while(0===r);return r},i.int32=n.next,i.quick=i,a&&(a.X&&o(a,n),i.state=function(){return o(n,{})}),i}e&&e.exports?e.exports=a:n&&n.amd?n(function(){return a}):this.xor4096=a}(this,"object"==typeof e&&e,"function"==typeof define&&define)},{}],27:[function(t,e,n){!function(t,e,n){function r(t){function e(t,e){var n,r,o=[];if(e===(0|e))r=o[0]=e;else for(e=""+e,n=0;n<e.length;++n)o[7&n]=o[7&n]<<15^e.charCodeAt(n)+o[n+1&7]<<13;for(;o.length<8;)o.push(0);for(n=0;8>n&&0===o[n];++n);for(r=8==n?o[7]=-1:o[n],t.x=o,t.i=0,n=256;n>0;--n)t.next()}var n=this;n.next=function(){var t,e,r=n.x,o=n.i;return t=r[o],t^=t>>>7,e=t^t<<24,t=r[o+1&7],e^=t^t>>>10,t=r[o+3&7],e^=t^t>>>3,t=r[o+4&7],e^=t^t<<7,t=r[o+7&7],t^=t<<13,e^=t^t<<9,r[o]=e,n.i=o+1&7,e},e(n,t)}function o(t,e){return e.x=t.x.slice(),e.i=t.i,e}function a(t,e){null==t&&(t=+new Date);var n=new r(t),a=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i["double"]=function(){do var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21);while(0===r);return r},i.int32=n.next,i.quick=i,a&&(a.x&&o(a,n),i.state=function(){return o(n,{})}),i}e&&e.exports?e.exports=a:n&&n.amd?n(function(){return a}):this.xorshift7=a}(this,"object"==typeof e&&e,"function"==typeof define&&define)},{}],28:[function(t,e,n){!function(t,e,n){function r(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^(t^t<<1))|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function o(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function a(t,e){var n=new r(t),a=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i["double"]=function(){do var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21);while(0===r);return r},i.int32=n.next,i.quick=i,a&&("object"==typeof a&&o(a,n),i.state=function(){return o(n,{})}),i}e&&e.exports?e.exports=a:n&&n.amd?n(function(){return a}):this.xorwow=a}(this,"object"==typeof e&&e,"function"==typeof define&&define)},{}],29:[function(t,e,n){!function(n,r){function o(t,e,o){var l=[];e=1==e?{entropy:!0}:e||{};var h=f(u(e.entropy?[t,s(n)]:null==t?c():t,3),l),v=new a(l),w=function(){for(var t=v.g(p),e=g,n=0;b>t;)t=(t+n)*d,e*=d,n=v.g(1);for(;t>=y;)t/=2,e/=2,n>>>=1;return(t+n)/e};return w.int32=function(){return 0|v.g(4)},w.quick=function(){return v.g(4)/4294967296},w["double"]=w,f(s(v.S),n),(e.pass||o||function(t,e,n,o){return o&&(o.S&&i(o,v),t.state=function(){return i(v,{})}),n?(r[m]=t,e):t})(w,h,"global"in e?e.global:this==r,e.state)}function a(t){var e,n=t.length,r=this,o=0,a=r.i=r.j=0,i=r.S=[];for(n||(t=[n++]);d>o;)i[o]=o++;for(o=0;d>o;o++)i[o]=i[a=w&a+t[o%n]+(e=i[o])],i[a]=e;(r.g=function(t){for(var e,n=0,o=r.i,a=r.j,i=r.S;t--;)e=i[o=w&o+1],n=n*d+i[w&(i[o]=i[a=w&a+e])+(i[a]=e)];return r.i=o,r.j=a,n})(d)}function i(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function u(t,e){var n,r=[],o=typeof t;if(e&&"object"==o)for(n in t)try{r.push(u(t[n],e-1))}catch(a){}return r.length?r:"string"==o?t:t+"\x00"}function f(t,e){for(var n,r=t+"",o=0;o<r.length;)e[w&o]=w&(n^=19*e[w&o])+r.charCodeAt(o++);return s(e)}function c(){try{if(l)return s(l.randomBytes(d));var t=new Uint8Array(d);return(h.crypto||h.msCrypto).getRandomValues(t),s(t)}catch(e){var r=h.navigator,o=r&&r.plugins;return[+new Date,h,o,h.screen,s(n)]}}function s(t){return String.fromCharCode.apply(0,t)}var l,h=this,d=256,p=6,v=52,m="random",g=r.pow(d,p),b=r.pow(2,v),y=2*b,w=d-1;if(r["seed"+m]=o,f(r.random(),n),"object"==typeof e&&e.exports){e.exports=o;try{l=t("crypto")}catch(M){}}else"function"==typeof define&&define.amd&&define(function(){return o})}([],Math)},{crypto:17}]},{},[1]);